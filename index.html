<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Odoo Framework Training - For Functional Consultants</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-attachment: fixed;
            padding: 20px;
            padding-left: 280px;
            line-height: 1.7;
            min-height: 100vh;
        }

        /* ==================== SIDEBAR NAVIGATION ==================== */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 260px;
            height: 100vh;
            background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
            padding: 20px 0;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 4px 0 20px rgba(0,0,0,0.3);
        }

        .sidebar-header {
            padding: 15px 20px 20px 20px;
            border-bottom: 1px solid #334155;
            margin-bottom: 10px;
        }

        /* ==================== SEARCH BAR ==================== */
        .search-container {
            padding: 0 15px 15px 15px;
            border-bottom: 1px solid #334155;
            margin-bottom: 10px;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            padding-left: 38px;
            border: none;
            border-radius: 8px;
            background: #334155;
            color: white;
            font-size: 14px;
            outline: none;
            transition: all 0.2s ease;
        }

        .search-input::placeholder {
            color: #64748b;
        }

        .search-input:focus {
            background: #475569;
            box-shadow: 0 0 0 2px rgba(113, 75, 103, 0.5);
        }

        .search-wrapper {
            position: relative;
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #64748b;
            font-size: 14px;
            pointer-events: none;
        }

        .search-results {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 10px;
        }

        .search-results:empty {
            display: none;
        }

        .search-result-item {
            padding: 10px 12px;
            background: #334155;
            margin: 5px 0;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .search-result-item:hover,
        .search-result-item.selected {
            background: #475569;
        }

        .search-result-item.selected {
            outline: 2px solid #714B67;
        }

        .search-result-title {
            color: #f0abfc;
            font-size: 13px;
            font-weight: 600;
        }

        .search-result-context {
            color: #94a3b8;
            font-size: 12px;
            margin-top: 3px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .search-highlight {
            background: rgba(251, 191, 36, 0.3);
            color: #fbbf24;
            padding: 0 2px;
            border-radius: 2px;
        }

        .no-results {
            color: #64748b;
            font-size: 13px;
            text-align: center;
            padding: 15px;
        }

        /* ==================== TOOLBAR (Dark Mode, Font Size) ==================== */
        .toolbar {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 10px 15px;
            border-bottom: 1px solid #334155;
            margin-bottom: 10px;
        }

        .toolbar-btn {
            background: #334155;
            border: none;
            color: #94a3b8;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .toolbar-btn:hover {
            background: #475569;
            color: white;
        }

        .toolbar-btn.active {
            background: #714B67;
            color: white;
        }

        /* ==================== DARK MODE ==================== */
        body.dark-mode {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
        }

        body.dark-mode .container {
            background: #1e293b;
            color: #e2e8f0;
        }

        body.dark-mode h1,
        body.dark-mode h2,
        body.dark-mode h3,
        body.dark-mode h4,
        body.dark-mode strong {
            color: #f1f5f9;
        }

        body.dark-mode h2 {
            border-bottom-color: #714B67;
        }

        body.dark-mode h3 {
            background: #334155;
            color: #f1f5f9;
        }

        body.dark-mode p,
        body.dark-mode li,
        body.dark-mode td {
            color: #cbd5e1;
        }

        body.dark-mode table {
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        body.dark-mode td {
            border-color: #334155;
        }

        body.dark-mode tr:nth-child(even) {
            background: #293548;
        }

        body.dark-mode tr:hover {
            background: #334155;
        }

        body.dark-mode .toc {
            background: #334155;
        }

        body.dark-mode .toc a {
            color: #f0abfc;
        }

        body.dark-mode code {
            background: #334155;
            color: #f0abfc;
        }

        body.dark-mode .critical-box,
        body.dark-mode .technical-box,
        body.dark-mode .foundation-box,
        body.dark-mode .success-box,
        body.dark-mode .mechanism-box,
        body.dark-mode .analogy-box,
        body.dark-mode .warning-box,
        body.dark-mode .info-box,
        body.dark-mode .odoo-box {
            background: #293548;
        }

        body.dark-mode .diagram {
            background: #293548;
            border-color: #714B67;
        }

        body.dark-mode .comparison-card.good {
            background: #1e3a2f;
            border-color: #10b981;
        }

        body.dark-mode .comparison-card.bad {
            background: #3b1f1f;
            border-color: #ef4444;
        }

        /* ==================== FONT SIZE CONTROLS ==================== */
        body.font-small .container { font-size: 14px; }
        body.font-small h1 { font-size: 36px; }
        body.font-small h2 { font-size: 28px; }
        body.font-small h3 { font-size: 20px; }
        body.font-small h4 { font-size: 17px; }
        body.font-small p, body.font-small li, body.font-small td { font-size: 14px; }

        body.font-large .container { font-size: 20px; }
        body.font-large h1 { font-size: 48px; }
        body.font-large h2 { font-size: 38px; }
        body.font-large h3 { font-size: 28px; }
        body.font-large h4 { font-size: 24px; }
        body.font-large p, body.font-large li, body.font-large td { font-size: 20px; }

        /* ==================== KEYBOARD SHORTCUT HINT ==================== */
        .keyboard-hint {
            position: fixed;
            bottom: 90px;
            right: 30px;
            background: rgba(30, 41, 59, 0.95);
            color: #94a3b8;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 13px;
            z-index: 996;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .keyboard-hint.visible {
            opacity: 1;
            visibility: visible;
        }

        .keyboard-hint kbd {
            background: #475569;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: monospace;
            color: #f0abfc;
            margin: 0 3px;
        }

        .keyboard-hint-row {
            margin: 5px 0;
        }

        /* ==================== RESUME READING BANNER ==================== */
        .resume-banner {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateX(130px);
            background: linear-gradient(135deg, #714B67 0%, #9f7aea 100%);
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            font-size: 14px;
            z-index: 1001;
            box-shadow: 0 4px 20px rgba(113, 75, 103, 0.4);
            display: none;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .resume-banner:hover {
            transform: translateX(-50%) translateX(130px) scale(1.02);
            box-shadow: 0 6px 25px rgba(113, 75, 103, 0.5);
        }

        .resume-banner-close {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .resume-banner-close:hover {
            background: rgba(255,255,255,0.3);
        }

        .sidebar-logo {
            color: #714B67;
            font-size: 24px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar-logo-icon {
            width: 40px;
            height: 40px;
            background: #714B67;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .sidebar-subtitle {
            color: #64748b;
            font-size: 12px;
            margin-top: 5px;
        }

        .sidebar nav {
            padding: 0 10px;
        }

        .sidebar a {
            display: block;
            color: #94a3b8;
            text-decoration: none;
            padding: 12px 15px;
            margin: 3px 0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }

        .sidebar a:hover {
            background: #334155;
            color: white;
            border-left-color: #714B67;
        }

        .sidebar a.active {
            background: linear-gradient(90deg, rgba(113, 75, 103, 0.3) 0%, transparent 100%);
            color: #f0abfc;
            border-left-color: #714B67;
            font-weight: 600;
        }

        .sidebar-section-title {
            color: #475569;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 20px 15px 8px 15px;
            font-weight: 600;
        }

        /* ==================== PROGRESS BAR ==================== */
        .progress-container {
            position: fixed;
            top: 0;
            left: 260px;
            right: 0;
            height: 4px;
            background: rgba(255,255,255,0.2);
            z-index: 999;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #714B67, #ec4899);
            width: 0%;
            transition: width 0.1s ease;
        }

        /* ==================== MAIN CONTAINER ==================== */
        .container {
            max-width: calc(100vw - 320px);
            width: 100%;
            margin: 0 auto;
            background: white;
            padding: 50px 60px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            position: relative;
            box-sizing: border-box;
        }

        @media (min-width: 1500px) {
            .container {
                max-width: 1200px;
            }
        }

        /* ==================== BACK TO TOP BUTTON ==================== */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: #714B67;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(113, 75, 103, 0.4);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 998;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: #5a3d53;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(113, 75, 103, 0.5);
        }

        /* ==================== HEADINGS ==================== */
        h1 {
            font-size: 42px;
            color: #1e293b;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 4px solid #714B67;
            padding-bottom: 20px;
        }

        h2 {
            font-size: 32px;
            color: #714B67;
            margin: 60px 0 25px 0;
            border-bottom: 3px solid #714B67;
            padding-bottom: 15px;
            padding-top: 20px;
            scroll-margin-top: 20px;
        }

        h3 {
            font-size: 24px;
            color: #1e293b;
            margin: 35px 0 20px 0;
            background: #f1f5f9;
            padding: 15px;
            border-left: 5px solid #714B67;
            border-radius: 0 8px 8px 0;
        }

        h4 { font-size: 20px; color: #475569; margin: 25px 0 15px 0; }
        p { font-size: 17px; color: #475569; margin-bottom: 18px; line-height: 1.8; }

        /* ==================== CONTENT BOXES ==================== */
        .critical-box { background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%); padding: 30px; border-radius: 12px; border-left: 6px solid #ef4444; margin: 25px 0; }
        .technical-box { background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); padding: 30px; border-radius: 12px; border-left: 6px solid #2563eb; margin: 25px 0; }
        .foundation-box { background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 30px; border-radius: 12px; border-left: 6px solid #f59e0b; margin: 25px 0; }
        .success-box { background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%); padding: 30px; border-radius: 12px; border-left: 6px solid #10b981; margin: 25px 0; }
        .mechanism-box { background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%); padding: 30px; border-radius: 12px; border-left: 6px solid #4f46e5; margin: 25px 0; }
        .analogy-box { background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%); padding: 30px; border-radius: 12px; border-left: 6px solid #ec4899; margin: 25px 0; }
        .warning-box { background: #fee2e2; padding: 25px; border-radius: 12px; border-left: 6px solid #ef4444; margin: 25px 0; }
        .info-box { background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); padding: 25px; border-radius: 12px; border-left: 6px solid #0284c7; margin: 25px 0; }
        .odoo-box { background: linear-gradient(135deg, #fdf4ff 0%, #fae8ff 100%); padding: 30px; border-radius: 12px; border-left: 6px solid #714B67; margin: 25px 0; }

        /* Box hover effect */
        .critical-box, .technical-box, .foundation-box, .success-box,
        .mechanism-box, .analogy-box, .warning-box, .info-box, .odoo-box {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .critical-box:hover, .technical-box:hover, .foundation-box:hover, .success-box:hover,
        .mechanism-box:hover, .analogy-box:hover, .warning-box:hover, .info-box:hover, .odoo-box:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        /* ==================== CODE BLOCKS ==================== */
        .code-block { background: #1e293b; color: #e2e8f0; padding: 25px; border-radius: 12px; font-family: 'Courier New', monospace; margin: 20px 0; overflow-x: auto; font-size: 14px; line-height: 1.6; white-space: pre-wrap; }
        .code-comment { color: #94a3b8; }
        .code-keyword { color: #f472b6; }
        .code-string { color: #a5f3fc; }
        .code-function { color: #fbbf24; }
        code { background: #f1f5f9; padding: 2px 8px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 14px; color: #714B67; }

        /* ==================== TABLES ==================== */
        table { width: 100%; border-collapse: collapse; margin: 25px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-radius: 12px; overflow: hidden; display: block; overflow-x: auto; }
        th { background: #714B67; color: white; padding: 18px; text-align: left; font-size: 16px; font-weight: 600; white-space: nowrap; }
        td { padding: 16px; border: 1px solid #e2e8f0; font-size: 15px; vertical-align: top; }
        tr:nth-child(even) { background: #f8fafc; }
        tr:hover { background: #f1f5f9; transition: background 0.2s ease; }

        @media (min-width: 900px) {
            table { display: table; }
            th { white-space: normal; }
        }

        /* ==================== LISTS ==================== */
        ul, ol { margin: 20px 0; padding-left: 40px; }
        li { margin: 12px 0; font-size: 17px; color: #475569; line-height: 1.7; }
        strong { color: #1e293b; }

        /* ==================== COMPARISON GRIDS ==================== */
        .comparison-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 25px 0; }
        .comparison-card { padding: 25px; border-radius: 12px; border: 2px solid; transition: transform 0.2s ease; }
        .comparison-card:hover { transform: scale(1.02); }
        .comparison-card.good { background: #dcfce7; border-color: #10b981; }
        .comparison-card.bad { background: #fee2e2; border-color: #ef4444; }

        /* ==================== HEADER STYLES ==================== */
        .subtitle { text-align: center; font-size: 20px; color: #64748b; margin-bottom: 40px; font-style: italic; }

        /* ==================== TOC (in main content) ==================== */
        .toc { background: #f1f5f9; padding: 30px; border-radius: 12px; margin: 30px 0; columns: 2; }
        .toc a { color: #714B67; text-decoration: none; font-size: 16px; display: block; padding: 6px 0; break-inside: avoid; transition: all 0.2s ease; }
        .toc a:hover { color: #ec4899; padding-left: 10px; }

        /* ==================== DIAGRAMS ==================== */
        .diagram { background: white; border: 3px solid #714B67; border-radius: 12px; padding: 30px; text-align: center; margin: 25px 0; }
        .diagram-box { background: #714B67; color: white; border-radius: 8px; padding: 15px 25px; display: inline-block; margin: 10px; font-weight: bold; transition: transform 0.2s ease; }
        .diagram-box:hover { transform: scale(1.05); }
        .diagram-box.secondary { background: #9f7aea; }
        .diagram-box.tertiary { background: #38bdf8; }
        .arrow { font-size: 28px; color: #714B67; display: inline-block; margin: 0 15px; }
        .arrow-down { display: block; font-size: 28px; color: #714B67; margin: 10px auto; }

        /* ==================== BADGES ==================== */
        .badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 13px; font-weight: bold; margin: 2px; }
        .badge-new { background: #dcfce7; color: #166534; }
        .badge-important { background: #fee2e2; color: #991b1b; }
        .badge-enterprise { background: #fef3c7; color: #92400e; }

        /* ==================== SECTION INDICATOR ==================== */
        .current-section {
            position: fixed;
            bottom: 30px;
            left: 280px;
            background: rgba(30, 41, 59, 0.9);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 14px;
            z-index: 997;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }

        .current-section.visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* ==================== PRINT / PDF OPTIMIZATION ==================== */
        @media print {
            /* Hide ALL interactive elements - including search, toolbar, resume banner, keyboard hints */
            .sidebar, .progress-container, .back-to-top, .current-section,
            .mobile-menu-toggle, .sidebar-overlay,
            .search-container, .toolbar, .resume-banner, .keyboard-hint-overlay,
            .search-results, .keyboard-hint-badge {
                display: none !important;
            }

            /* Reset background and padding for clean print */
            body {
                padding-left: 0 !important;
                background: white !important;
                padding: 0 !important;
                margin: 0 !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            /* Container adjustments */
            .container {
                box-shadow: none !important;
                padding: 30px !important;
                max-width: 100% !important;
                border-radius: 0 !important;
            }

            /* Reset dark mode colors for print */
            body.dark-mode,
            body.dark-mode .container {
                background: white !important;
                color: #1e293b !important;
            }
            body.dark-mode h1,
            body.dark-mode h2,
            body.dark-mode h3,
            body.dark-mode h4,
            body.dark-mode strong {
                color: #1e293b !important;
            }
            body.dark-mode p,
            body.dark-mode li,
            body.dark-mode td {
                color: #475569 !important;
            }
            body.dark-mode .critical-box,
            body.dark-mode .technical-box,
            body.dark-mode .foundation-box,
            body.dark-mode .success-box,
            body.dark-mode .mechanism-box,
            body.dark-mode .analogy-box,
            body.dark-mode .info-box,
            body.dark-mode .odoo-box {
                background: inherit !important;
            }

            /* Page breaks - each major section on new page */
            h2 {
                page-break-before: always !important;
                margin-top: 0 !important;
                padding-top: 20px !important;
            }

            /* First h2 (after TOC) should not break */
            h2#intro { page-break-before: avoid !important; }

            /* Prevent orphaned headers */
            h3, h4 {
                page-break-after: avoid !important;
                page-break-inside: avoid !important;
            }

            /* Keep boxes together - don't split across pages */
            .critical-box, .technical-box, .foundation-box, .success-box,
            .mechanism-box, .analogy-box, .warning-box, .info-box, .odoo-box,
            .diagram, .comparison-card {
                page-break-inside: avoid !important;
                break-inside: avoid !important;
            }

            /* Tables - keep header with at least some rows */
            table {
                page-break-inside: auto !important;
            }
            tr {
                page-break-inside: avoid !important;
                page-break-after: auto !important;
            }
            thead {
                display: table-header-group !important;
            }

            /* Comparison grids - keep cards together */
            .comparison-grid {
                page-break-inside: avoid !important;
            }

            /* TOC single column for print */
            .toc {
                columns: 1 !important;
                page-break-after: always !important;
            }

            /* Hide hover effects */
            tr:hover { background: inherit !important; }

            /* Ensure colors print */
            .critical-box, .technical-box, .foundation-box, .success-box,
            .mechanism-box, .analogy-box, .warning-box, .info-box, .odoo-box {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            th {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                background: #714B67 !important;
                color: white !important;
            }

            .diagram-box {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            .badge {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            /* Reduce font sizes slightly for print */
            h1 { font-size: 36px !important; }
            h2 { font-size: 28px !important; }
            h3 { font-size: 20px !important; }
            h4 { font-size: 17px !important; }
            p, li, td { font-size: 14px !important; }
            th { font-size: 14px !important; }

            /* Reduce padding for boxes */
            .critical-box, .technical-box, .foundation-box, .success-box,
            .mechanism-box, .analogy-box, .warning-box, .info-box, .odoo-box {
                padding: 20px !important;
                margin: 15px 0 !important;
            }

            /* Links - show URL for reference (optional - commented out)
            a[href]:after { content: " (" attr(href) ")"; font-size: 12px; color: #666; }
            */

            /* Page margins via @page */
            @page {
                margin: 1.5cm 1.5cm 2cm 1.5cm;
                size: A4;
            }

            /* First page no top margin */
            @page :first {
                margin-top: 1cm;
            }

            /* Footer area for page numbers (handled by browser) */
            @page {
                @bottom-center {
                    content: counter(page);
                }
            }
        }
        /* ==================== MOBILE MENU TOGGLE BUTTON ==================== */
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            top: 15px;
            left: 15px;
            width: 45px;
            height: 45px;
            background: #714B67;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            z-index: 1001;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .mobile-menu-toggle span {
            display: block;
            width: 22px;
            height: 2px;
            background: white;
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 999;
        }

        /* ==================== MOBILE RESPONSIVE - TABLET ==================== */
        @media (max-width: 1024px) {
            body {
                padding: 20px;
                padding-top: 70px;
            }

            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .sidebar-overlay.active {
                display: block;
            }

            .progress-container {
                left: 0;
            }

            .mobile-menu-toggle {
                display: flex !important;
            }

            .current-section {
                left: 70px;
                max-width: calc(100% - 90px);
                font-size: 12px;
            }

            .container {
                padding: 30px;
            }

            .back-to-top {
                right: 15px;
                bottom: 15px;
                width: 45px;
                height: 45px;
            }

            .resume-banner {
                left: 50%;
                transform: translateX(-50%);
                max-width: 90%;
            }

            .resume-banner:hover {
                transform: translateX(-50%) scale(1.02);
            }

            .keyboard-hint {
                width: 90%;
                max-width: 350px;
                left: 50%;
                transform: translateX(-50%);
                top: auto;
                bottom: 80px;
            }

            .keyboard-hint.visible {
                transform: translateX(-50%) translateY(0);
            }
        }

        /* ==================== MOBILE RESPONSIVE - PHONE ==================== */
        @media (max-width: 768px) {
            body {
                padding: 10px;
                padding-top: 65px;
            }

            .container {
                padding: 20px;
                border-radius: 12px;
            }

            h1 {
                font-size: 26px;
                line-height: 1.3;
            }

            h2 {
                font-size: 22px;
                padding-bottom: 10px;
                margin: 35px 0 20px 0;
            }

            h3 {
                font-size: 18px;
                padding: 12px;
            }

            h4 {
                font-size: 16px;
            }

            p, li, td {
                font-size: 15px;
            }

            .subtitle {
                font-size: 14px;
            }

            .badge {
                font-size: 11px;
                padding: 4px 10px;
            }

            /* Boxes */
            .critical-box, .technical-box, .foundation-box, .success-box,
            .mechanism-box, .analogy-box, .warning-box, .info-box, .odoo-box {
                padding: 18px;
                margin: 18px 0;
            }

            /* Tables */
            table {
                font-size: 13px;
            }

            th, td {
                padding: 10px 8px;
            }

            /* Code blocks */
            .code-block {
                padding: 15px;
                font-size: 12px;
                overflow-x: auto;
            }

            /* TOC */
            .toc {
                columns: 1;
                padding: 20px;
            }

            .toc a {
                font-size: 15px;
                padding: 6px 0;
            }

            /* Grids */
            .comparison-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .comparison-card {
                padding: 18px;
            }

            /* Diagrams */
            .diagram {
                padding: 15px;
                overflow-x: auto;
            }

            .diagram-box {
                padding: 12px 15px;
                font-size: 13px;
                margin: 5px;
            }

            .arrow {
                font-size: 24px;
                margin: 0 10px;
            }

            /* Current section indicator */
            .current-section {
                display: none;
            }

            /* Back to top */
            .back-to-top {
                right: 10px;
                bottom: 10px;
                width: 40px;
                height: 40px;
                font-size: 18px;
            }

            /* Lists */
            ul, ol {
                padding-left: 25px;
            }

            li {
                margin: 8px 0;
            }
        }

        /* ==================== MOBILE RESPONSIVE - SMALL PHONE ==================== */
        @media (max-width: 480px) {
            body {
                padding: 8px;
                padding-top: 60px;
            }

            .container {
                padding: 15px;
                border-radius: 10px;
            }

            h1 {
                font-size: 22px;
            }

            h2 {
                font-size: 19px;
            }

            h3 {
                font-size: 16px;
                padding: 10px;
            }

            p, li, td {
                font-size: 14px;
                line-height: 1.6;
            }

            .code-block {
                font-size: 11px;
                padding: 12px;
            }

            th, td {
                padding: 8px 6px;
                font-size: 12px;
            }

            .mobile-menu-toggle {
                top: 10px;
                left: 10px;
                width: 40px;
                height: 40px;
            }

            .sidebar {
                width: 280px;
            }

            .diagram-box {
                display: block;
                margin: 8px auto;
            }

            .arrow {
                display: block;
                margin: 5px auto;
                transform: rotate(90deg);
            }
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- Sidebar Overlay (for mobile) -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Resume Reading Banner -->
    <div class="resume-banner" id="resumeBanner">
        <span>üìñ Continue reading?</span>
        <span id="resumeSection"></span>
        <button class="resume-banner-close" id="resumeClose" aria-label="Close">&times;</button>
    </div>

    <!-- Keyboard Shortcuts Hint -->
    <div class="keyboard-hint" id="keyboardHint">
        <div class="keyboard-hint-row"><kbd>‚Üê</kbd> <kbd>‚Üí</kbd> Previous / Next section</div>
        <div class="keyboard-hint-row"><kbd>/</kbd> Focus search</div>
        <div class="keyboard-hint-row"><kbd>D</kbd> Toggle dark mode</div>
        <div class="keyboard-hint-row"><kbd>?</kbd> Show/hide shortcuts</div>
    </div>

    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <div class="sidebar-logo-icon">O</div>
                <span>Odoo Training</span>
            </div>
            <div class="sidebar-subtitle">Functional Consultant Guide</div>
        </div>

        <!-- Search Bar -->
        <div class="search-container">
            <div class="search-wrapper">
                <span class="search-icon">üîç</span>
                <input type="text" class="search-input" id="searchInput" placeholder="Search topics... (Press /)" autocomplete="off">
            </div>
            <div class="search-results" id="searchResults"></div>
        </div>

        <!-- Toolbar -->
        <div class="toolbar">
            <button class="toolbar-btn" id="darkModeBtn" title="Toggle dark mode (D)">üåô</button>
            <button class="toolbar-btn" id="fontSmallBtn" title="Smaller text">A-</button>
            <button class="toolbar-btn" id="fontLargeBtn" title="Larger text">A+</button>
            <button class="toolbar-btn" id="helpBtn" title="Keyboard shortcuts (?)">‚å®Ô∏è</button>
        </div>

        <nav>
            <div class="sidebar-section-title">Getting Started</div>
            <a href="#intro">Introduction</a>
            <a href="#models">1. Models</a>
            <a href="#field-types">2. Field Types</a>

            <div class="sidebar-section-title">Data Structure</div>
            <a href="#relationships">3. Relationships</a>
            <a href="#storage">4. Field Storage</a>
            <a href="#computed">5. Computed Fields</a>
            <a href="#related">6. Related Fields</a>
            <a href="#groupby">7. Group By</a>

            <div class="sidebar-section-title">User Interface</div>
            <a href="#views">8. Views</a>
            <a href="#widgets">9. Widgets</a>
            <a href="#domains">10. Domains</a>
            <a href="#properties">11. Field Properties</a>

            <div class="sidebar-section-title">Administration</div>
            <a href="#access">12. Access Rights</a>
            <a href="#workflows">13. Workflows</a>
            <a href="#actions">14. Actions</a>
            <a href="#studio">15. Odoo Studio</a>

            <div class="sidebar-section-title">Advanced</div>
            <a href="#performance">16. Performance</a>
            <a href="#decision">17. Decision Matrix</a>
            <a href="#practical">18. Examples</a>
            <a href="#mistakes">19. Common Mistakes</a>
        </nav>
    </aside>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop" aria-label="Back to top">&#8593;</button>

    <!-- Current Section Indicator -->
    <div class="current-section" id="currentSection"></div>

    <!-- Main Content -->
    <div class="container">
        <h1>Complete Odoo Framework Training</h1>
        <p class="subtitle"><span class="badge badge-new">Odoo 17/18/19 Compatible</span>
        <span class="badge badge-enterprise">Community & Enterprise</span></p>

        <div class="foundation-box" style="margin-top: 0;">
            <h4 style="margin-top: 0;">Document Purpose</h4>
            <p>This guide helps functional consultants understand Odoo's data architecture, talk to technical teams, and make better configuration decisions. Each concept includes real business scenarios and practical examples.</p>
        </div>

        <div class="toc">
            <h2 style="margin-top: 0; border: none; column-span: all; page-break-before: avoid;">Table of Contents</h2>
            <a href="#intro">Introduction & Teaching Philosophy</a>
            <a href="#models">1. Understanding Models - The Foundation</a>
            <a href="#field-types">2. Complete Field Types Guide</a>
            <a href="#relationships">3. Relationships - Many2one, One2many, Many2many</a>
            <a href="#storage">4. Field Storage - store=True vs store=False</a>
            <a href="#computed">5. Computed Fields Explained</a>
            <a href="#related">6. Related Fields Explained</a>
            <a href="#groupby">7. Why Group By Requires Stored Fields</a>
            <a href="#views">8. Views - Form, List, Kanban, and More</a>
            <a href="#widgets">9. Widgets - Display vs Data Storage</a>
            <a href="#domains">10. Domain Filters - Controlling Data</a>
            <a href="#properties">11. Field Properties</a>
            <a href="#access">12. Access Rights & Record Rules</a>
            <a href="#workflows">13. Workflows & Status Management</a>
            <a href="#actions">14. Actions: Automation in Odoo</a>
            <a href="#studio">15. Odoo Studio Basics</a>
            <a href="#performance">16. Performance Considerations</a>
            <a href="#decision">17. Decision Matrix - When to Use What</a>
            <a href="#practical">18. Real-World Business Examples</a>
            <a href="#mistakes">19. Common Mistakes & How to Avoid Them</a>
        </div>

        <!-- ==================== SECTION 1: INTRODUCTION ==================== -->
        <h2 id="intro">Introduction & Teaching Philosophy</h2>

        <div class="foundation-box">
            <h4>Who Is This Document For?</h4>
            <p>This training is designed for <strong>Functional Consultants</strong> who need to:</p>
            <ul>
                <li>Understand how Odoo stores and manages data</li>
                <li>Communicate effectively with developers</li>
                <li>Write functional specifications that developers can implement</li>
                <li>Configure Odoo without writing code (using Studio)</li>
                <li>Troubleshoot issues and understand error messages</li>
            </ul>
            <p><strong>You don't need to write code</strong> - but understanding the concepts will make you much more effective.</p>
        </div>

        <div class="analogy-box">
            <h4>The Building Analogy</h4>
            <p>Think of Odoo like a <strong>large office building</strong>:</p>
            <ul>
                <li><strong>Models</strong> = Different departments (Sales, HR, Warehouse)</li>
                <li><strong>Fields</strong> = Information each department keeps (customer name, employee salary)</li>
                <li><strong>Records</strong> = Individual files in each department (one customer, one employee)</li>
                <li><strong>Views</strong> = How you look at the information (form, list, chart)</li>
                <li><strong>Access Rights</strong> = Who can enter which department and what they can do there</li>
            </ul>
        </div>

        <h3>How Each Concept Is Explained</h3>
        <p>For every major concept, we follow this structure:</p>
        <ol>
            <li><strong>What Is It?</strong> - Simple definition in plain language</li>
            <li><strong>Why Does It Exist?</strong> - The business problem it solves</li>
            <li><strong>How Does It Work?</strong> - Step-by-step explanation</li>
            <li><strong>Real Example</strong> - Concrete business scenario</li>
            <li><strong>Common Mistakes</strong> - What to avoid</li>
        </ol>

        <!-- ==================== SECTION 2: MODELS ==================== -->
        <h2 id="models">1. Understanding Models - The Foundation</h2>

        <h3>What Is a Model?</h3>

        <div class="technical-box">
            <h4>Simple Definition</h4>
            <p>A <strong>Model</strong> is a <strong>table in the database</strong> that stores a specific type of information.</p>
            <p>Think of it like an Excel spreadsheet - each model is a different spreadsheet for different data.</p>
        </div>

        <div class="analogy-box">
            <h4>Excel Analogy</h4>
            <table>
                <tr>
                    <th>Excel Concept</th>
                    <th>Odoo Concept</th>
                    <th>Example</th>
                </tr>
                <tr>
                    <td>Spreadsheet file</td>
                    <td>Model</td>
                    <td>res.partner (Contacts)</td>
                </tr>
                <tr>
                    <td>Column header</td>
                    <td>Field</td>
                    <td>name, email, phone</td>
                </tr>
                <tr>
                    <td>Row</td>
                    <td>Record</td>
                    <td>One specific customer</td>
                </tr>
                <tr>
                    <td>Cell</td>
                    <td>Field value</td>
                    <td>"John Smith"</td>
                </tr>
            </table>
        </div>

        <h3>Model Naming Convention</h3>
        <p>Odoo models have a specific naming pattern:</p>

        <table>
            <tr>
                <th>Model Name</th>
                <th>What It Stores</th>
                <th>Menu Location</th>
            </tr>
            <tr>
                <td><code>res.partner</code></td>
                <td>Customers, Vendors, Contacts</td>
                <td>Contacts app</td>
            </tr>
            <tr>
                <td><code>res.users</code></td>
                <td>System Users (login accounts)</td>
                <td>Settings > Users</td>
            </tr>
            <tr>
                <td><code>res.company</code></td>
                <td>Companies in the system</td>
                <td>Settings > Companies</td>
            </tr>
            <tr>
                <td><code>sale.order</code></td>
                <td>Sales Orders / Quotations</td>
                <td>Sales > Orders</td>
            </tr>
            <tr>
                <td><code>sale.order.line</code></td>
                <td>Individual lines on a sales order</td>
                <td>Inside Sales Order form</td>
            </tr>
            <tr>
                <td><code>purchase.order</code></td>
                <td>Purchase Orders</td>
                <td>Purchase > Orders</td>
            </tr>
            <tr>
                <td><code>account.move</code></td>
                <td>Invoices, Bills, Journal Entries</td>
                <td>Accounting > Invoices</td>
            </tr>
            <tr>
                <td><code>stock.picking</code></td>
                <td>Delivery Orders, Receipts</td>
                <td>Inventory > Transfers</td>
            </tr>
            <tr>
                <td><code>product.product</code></td>
                <td>Product Variants</td>
                <td>Products with variants</td>
            </tr>
            <tr>
                <td><code>product.template</code></td>
                <td>Product Templates</td>
                <td>Product form</td>
            </tr>
            <tr>
                <td><code>hr.employee</code></td>
                <td>Employees</td>
                <td>Employees app</td>
            </tr>
            <tr>
                <td><code>project.project</code></td>
                <td>Projects</td>
                <td>Project app</td>
            </tr>
            <tr>
                <td><code>project.task</code></td>
                <td>Tasks within projects</td>
                <td>Project > Tasks</td>
            </tr>
            <tr>
                <td><code>crm.lead</code></td>
                <td>Leads and Opportunities</td>
                <td>CRM app</td>
            </tr>
        </table>

        <div class="info-box">
            <h4>Naming Pattern Explained</h4>
            <p><strong>Format:</strong> <code>module.object</code> or <code>module.parent.child</code></p>
            <ul>
                <li><code>res</code> = "Resource" - core/base models used everywhere</li>
                <li><code>sale</code> = Sales module models</li>
                <li><code>purchase</code> = Purchase module models</li>
                <li><code>account</code> = Accounting module models</li>
                <li><code>stock</code> = Inventory module models</li>
                <li><code>hr</code> = Human Resources models</li>
                <li><code>crm</code> = Customer Relationship Management models</li>
            </ul>
        </div>

        <h3>Types of Models</h3>

        <div class="mechanism-box">
            <h4>Three Model Types in Odoo</h4>
            <p>Odoo has three types of models. Each type stores data differently:</p>

            <table>
                <tr>
                    <th>Technical Name</th>
                    <th>What It Means</th>
                    <th>Data Storage</th>
                    <th>Examples</th>
                </tr>
                <tr>
                    <td><strong>Model</strong></td>
                    <td>Regular model - normal screens</td>
                    <td>Saved permanently in database</td>
                    <td>Contacts, Sales Orders, Invoices, Products</td>
                </tr>
                <tr>
                    <td><strong>TransientModel</strong></td>
                    <td>Temporary model - used for wizards (popup dialogs)</td>
                    <td>Auto-deleted after 1 hour (by default)</td>
                    <td>"Create Invoice" popup, "Register Payment" popup</td>
                </tr>
                <tr>
                    <td><strong>AbstractModel</strong></td>
                    <td>Template model - provides features to other models</td>
                    <td>Not stored (no database table)</td>
                    <td>mail.thread (adds chatter to any model)</td>
                </tr>
            </table>
        </div>

        <div class="info-box">
            <h4>TransientModel = Wizards</h4>
            <p>A <strong>TransientModel</strong> (also called a "wizard") is a popup window that appears when you click action buttons. It collects input and performs an action.</p>

            <p><strong>"Transient" means temporary</strong> - the data you enter in these popups is automatically deleted after about an hour. This keeps the database clean.</p>

            <p><strong>Common wizards you use daily:</strong></p>
            <table>
                <tr>
                    <th>When You Click...</th>
                    <th>This Wizard Appears</th>
                </tr>
                <tr>
                    <td>Sales Order ‚Üí "Create Invoice" button</td>
                    <td>Popup asking: Regular invoice or Down payment?</td>
                </tr>
                <tr>
                    <td>Invoice ‚Üí "Register Payment" button</td>
                    <td>Popup asking: Payment amount, journal, date</td>
                </tr>
                <tr>
                    <td>Transfer ‚Üí "Validate" (with partial qty)</td>
                    <td>Popup asking: Create backorder or not?</td>
                </tr>
                <tr>
                    <td>Settings ‚Üí "Add a Language"</td>
                    <td>Popup asking: Which language to install?</td>
                </tr>
            </table>

            <p><strong>Why this matters:</strong> If you close a wizard popup without clicking the action button, nothing is saved. That's normal - wizard data is meant to be temporary!</p>
        </div>

        <div class="technical-box">
            <h4>AbstractModel = Shared Features</h4>
            <p>An <strong>AbstractModel</strong> is like a template that adds features to other models. It doesn't store any data itself.</p>

            <p><strong>Common AbstractModels and what they add:</strong></p>
            <table>
                <tr>
                    <th>AbstractModel</th>
                    <th>Feature It Adds</th>
                    <th>Where You See It</th>
                </tr>
                <tr>
                    <td><code>mail.thread</code></td>
                    <td>Chatter (messages, followers, log)</td>
                    <td>Bottom of Sales Orders, Invoices, etc.</td>
                </tr>
                <tr>
                    <td><code>mail.activity.mixin</code></td>
                    <td>Scheduled Activities</td>
                    <td>"Plan Activity" button on records</td>
                </tr>
                <tr>
                    <td><code>portal.mixin</code></td>
                    <td>Customer portal access</td>
                    <td>"Share" or "Preview" button on quotations</td>
                </tr>
            </table>

            <p><strong>Why this matters:</strong> When you see chatter on a form, that model uses <code>mail.thread</code>. Understanding this helps you know what features are available on different screens.</p>
        </div>

        <h3>How to Find a Model Name</h3>
        <div class="success-box">
            <h4>Method 1: Enable Developer Mode</h4>
            <ol>
                <li>Go to Settings > General Settings</li>
                <li>Scroll down and click "Activate Developer Mode"</li>
                <li>Go to any form view</li>
                <li>Click the bug icon (Debug menu) > "View Metadata"</li>
                <li>You'll see the model name (e.g., <code>sale.order</code>)</li>
            </ol>
        </div>

        <div class="success-box">
            <h4>Method 2: URL Inspection</h4>
            <p>Look at the URL in your browser. In Odoo 17+, URLs use path segments:</p>
            <p><code>https://mycompany.odoo.com/odoo/<strong>sale.order</strong>/5</code></p>
            <p>The model name appears in the URL path! (Older versions used hash format: <code>#model=sale.order&id=5</code>)</p>
        </div>

        <!-- ==================== SECTION 3: FIELD TYPES ==================== -->
        <h2 id="field-types">2. Complete Field Types Guide</h2>

        <div class="technical-box">
            <h4>What Are Fields?</h4>
            <p>Fields are the <strong>columns</strong> in your database table. Each field stores a specific type of data.</p>
            <p>Understanding field types helps you:</p>
            <ul>
                <li>Know what kind of data can be stored</li>
                <li>Understand why certain validations exist</li>
                <li>Write better functional specifications</li>
            </ul>
        </div>

        <h3>Basic Field Types</h3>

        <table>
            <tr>
                <th>Field Type</th>
                <th>What It Stores</th>
                <th>Example Use</th>
                <th>Database Storage</th>
            </tr>
            <tr>
                <td><strong>Char</strong></td>
                <td>Short text (single line)</td>
                <td>Customer name, Reference number</td>
                <td>VARCHAR (limited characters)</td>
            </tr>
            <tr>
                <td><strong>Text</strong></td>
                <td>Long text (multiple lines)</td>
                <td>Description, Notes, Address</td>
                <td>TEXT (unlimited)</td>
            </tr>
            <tr>
                <td><strong>Html</strong></td>
                <td>Formatted text with styling</td>
                <td>Email templates, Product descriptions</td>
                <td>TEXT with HTML tags</td>
            </tr>
            <tr>
                <td><strong>Integer</strong></td>
                <td>Whole numbers only</td>
                <td>Quantity, Age, Count</td>
                <td>INTEGER</td>
            </tr>
            <tr>
                <td><strong>Float</strong></td>
                <td>Decimal numbers</td>
                <td>Weight, Dimensions</td>
                <td>FLOAT/NUMERIC</td>
            </tr>
            <tr>
                <td><strong>Monetary</strong></td>
                <td>Currency amounts</td>
                <td>Price, Total amount</td>
                <td>NUMERIC (with currency link)</td>
            </tr>
            <tr>
                <td><strong>Boolean</strong></td>
                <td>True/False (checkbox)</td>
                <td>Is Active, Is Company</td>
                <td>BOOLEAN</td>
            </tr>
            <tr>
                <td><strong>Date</strong></td>
                <td>Date only (no time)</td>
                <td>Birth date, Deadline</td>
                <td>DATE</td>
            </tr>
            <tr>
                <td><strong>Datetime</strong></td>
                <td>Date and time</td>
                <td>Order date, Last login</td>
                <td>TIMESTAMP</td>
            </tr>
            <tr>
                <td><strong>Selection</strong></td>
                <td>Predefined choices</td>
                <td>Status, Type, Priority</td>
                <td>VARCHAR (stores key)</td>
            </tr>
            <tr>
                <td><strong>Binary</strong></td>
                <td>File attachments</td>
                <td>PDF, Images</td>
                <td>BYTEA or file system</td>
            </tr>
            <tr>
                <td><strong>Image</strong></td>
                <td>Image files</td>
                <td>Product image, Avatar</td>
                <td>BYTEA (with auto-resize)</td>
            </tr>
            <tr>
                <td><strong>Json</strong></td>
                <td>Structured data</td>
                <td>Complex configurations</td>
                <td>JSONB</td>
            </tr>
            <tr>
                <td><strong>Properties</strong></td>
                <td>Dynamic sub-fields</td>
                <td>Custom fields per project</td>
                <td>JSONB</td>
            </tr>
        </table>

        <h3>Field Type Details with Examples</h3>

        <div class="mechanism-box">
            <h4>Char vs Text - When to Use Which?</h4>
            <table>
                <tr>
                    <th>Use Char For</th>
                    <th>Use Text For</th>
                </tr>
                <tr>
                    <td>Names (max ~255 characters)</td>
                    <td>Descriptions (unlimited)</td>
                </tr>
                <tr>
                    <td>Reference numbers</td>
                    <td>Notes and comments</td>
                </tr>
                <tr>
                    <td>Email addresses</td>
                    <td>Full addresses</td>
                </tr>
                <tr>
                    <td>Phone numbers</td>
                    <td>Terms and conditions</td>
                </tr>
            </table>
            <p style="margin-top: 15px;"><strong>Key Difference:</strong> Char shows as a single-line input, Text shows as a multi-line textarea.</p>
        </div>

        <div class="mechanism-box">
            <h4>Selection Field - The Dropdown</h4>
            <p>Selection fields store a <strong>key</strong> internally but display a <strong>label</strong> to users.</p>

            <p><strong>Example: Order Status</strong></p>
            <table>
                <tr>
                    <th>What User Sees</th>
                    <th>What's Stored in Database</th>
                </tr>
                <tr>
                    <td>Quotation</td>
                    <td>'draft'</td>
                </tr>
                <tr>
                    <td>Quotation Sent</td>
                    <td>'sent'</td>
                </tr>
                <tr>
                    <td>Sales Order</td>
                    <td>'sale'</td>
                </tr>
                <tr>
                    <td>Cancelled</td>
                    <td>'cancel'</td>
                </tr>
            </table>
            <p style="margin-top: 15px;"><strong>Why This Matters:</strong> When filtering or searching, you use the key ('draft'), not the label ('Quotation').</p>
        </div>

        <div class="mechanism-box">
            <h4>Monetary Field - More Than Just a Number</h4>
            <p>A Monetary field is linked to a <strong>currency field</strong>. This allows:</p>
            <ul>
                <li>Proper currency symbol display (EUR, USD, INR)</li>
                <li>Correct decimal places (2 for EUR, 0 for JPY)</li>
                <li>Currency conversion calculations</li>
            </ul>
            <p><strong>Example:</strong> Sale Order has <code>amount_total</code> (Monetary) linked to <code>currency_id</code> (Many2one to res.currency)</p>
        </div>

        <div class="odoo-box">
            <h4>Properties Field - Dynamic Custom Fields</h4>
            <p>The Properties field allows creating <strong>custom sub-fields per record</strong> without database changes.</p>
            <p><strong>Use Case:</strong> Different projects need different custom fields:</p>
            <ul>
                <li>Project "Website Redesign" needs fields: Browser compatibility, Responsive breakpoints</li>
                <li>Project "ERP Implementation" needs fields: Go-live date, Training hours</li>
            </ul>
            <p>With Properties, each project can have its own custom fields, and all tasks in that project inherit them!</p>
        </div>

        <!-- ==================== SECTION 4: RELATIONSHIPS ==================== -->
        <h2 id="relationships">3. Relationships - Many2one, One2many, Many2many</h2>

        <div class="critical-box">
            <h4>Why Relationships Are Critical</h4>
            <p>Relationships connect data across different models. Understanding them is <strong>important</strong> for:</p>
            <ul>
                <li>Understanding how data flows in Odoo</li>
                <li>Creating proper filters and reports</li>
                <li>Designing new features correctly</li>
            </ul>
        </div>

        <h3>The Three Relationship Types</h3>

        <div class="diagram">
            <h4>Visual Summary</h4>
            <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 30px; margin-top: 20px;">
                <div style="text-align: center;">
                    <div class="diagram-box">Many2one</div>
                    <p style="margin-top: 10px; font-size: 14px;"><strong>Many</strong> orders belong to <strong>One</strong> customer</p>
                    <p style="font-size: 24px;">N : 1</p>
                </div>
                <div style="text-align: center;">
                    <div class="diagram-box secondary">One2many</div>
                    <p style="margin-top: 10px; font-size: 14px;"><strong>One</strong> customer has <strong>Many</strong> orders</p>
                    <p style="font-size: 24px;">1 : N</p>
                </div>
                <div style="text-align: center;">
                    <div class="diagram-box tertiary">Many2many</div>
                    <p style="margin-top: 10px; font-size: 14px;"><strong>Many</strong> products in <strong>Many</strong> categories</p>
                    <p style="font-size: 24px;">N : N</p>
                </div>
            </div>
        </div>

        <h3>Many2one - The Dropdown Link</h3>

        <div class="technical-box">
            <h4>What Is Many2one?</h4>
            <p>A <strong>Many2one</strong> field creates a link from <strong>many records</strong> in one model to <strong>one record</strong> in another model.</p>
            <p><strong>How It Appears:</strong> As a dropdown/search field in the form</p>
            <p><strong>What's Stored:</strong> Just an ID number (the linked record's ID)</p>
        </div>

        <div class="analogy-box">
            <h4>Real-World Example: Sales Orders</h4>
            <div class="diagram">
                <div class="diagram-box">Sale Order #1</div>
                <span class="arrow">---></span>
                <div class="diagram-box secondary" style="background: #10b981;">Customer: Acme Corp</div>
                <br><br>
                <div class="diagram-box">Sale Order #2</div>
                <span class="arrow">---></span>
                <div class="diagram-box secondary" style="background: #10b981;">Customer: Acme Corp</div>
                <br><br>
                <div class="diagram-box">Sale Order #3</div>
                <span class="arrow">---></span>
                <div class="diagram-box secondary" style="background: #10b981;">Customer: Acme Corp</div>
            </div>
            <p style="margin-top: 15px;"><strong>Many</strong> Sale Orders can belong to <strong>One</strong> Customer (Acme Corp)</p>
        </div>

        <table>
            <tr>
                <th>Field</th>
                <th>On Model</th>
                <th>Links To</th>
                <th>Business Meaning</th>
            </tr>
            <tr>
                <td>partner_id</td>
                <td>sale.order</td>
                <td>res.partner</td>
                <td>Which customer is this order for?</td>
            </tr>
            <tr>
                <td>product_id</td>
                <td>sale.order.line</td>
                <td>product.product</td>
                <td>Which product is on this line?</td>
            </tr>
            <tr>
                <td>company_id</td>
                <td>(many models)</td>
                <td>res.company</td>
                <td>Which company owns this record?</td>
            </tr>
            <tr>
                <td>user_id</td>
                <td>sale.order</td>
                <td>res.users</td>
                <td>Who is the salesperson?</td>
            </tr>
            <tr>
                <td>department_id</td>
                <td>hr.employee</td>
                <td>hr.department</td>
                <td>Which department does the employee belong to?</td>
            </tr>
            <tr>
                <td>project_id</td>
                <td>project.task</td>
                <td>project.project</td>
                <td>Which project does this task belong to?</td>
            </tr>
        </table>

        <h3>One2many - The Reverse View</h3>

        <div class="technical-box">
            <h4>What Is One2many?</h4>
            <p>A <strong>One2many</strong> field shows all records that link back to the current record via a Many2one.</p>
            <p><strong>Important:</strong> One2many fields are <strong>NOT stored in the database</strong>. They are computed on-the-fly by looking at the reverse relationship.</p>
            <p><strong>How It Appears:</strong> As a list/table inside a form (like order lines on a sales order)</p>
        </div>

        <div class="analogy-box">
            <h4>Real-World Example: Customer's Orders</h4>
            <p>On the Customer form, you see a list of all their orders:</p>
            <div class="diagram">
                <div class="diagram-box secondary" style="background: #10b981;">Customer: Acme Corp</div>
                <span class="arrow-down">‚Üì</span>
                <p><strong>order_ids (One2many)</strong></p>
                <div style="display: flex; flex-direction: column; gap: 10px; margin-top: 10px;">
                    <div class="diagram-box">Sale Order #1 - EUR 5,000</div>
                    <div class="diagram-box">Sale Order #2 - EUR 3,500</div>
                    <div class="diagram-box">Sale Order #3 - EUR 8,200</div>
                </div>
            </div>
            <p style="margin-top: 15px;">The customer doesn't "store" these orders - Odoo looks up "all orders where partner_id = this customer"</p>
        </div>

        <div class="warning-box">
            <h4>One2many Fields Cannot Be Used in Group By</h4>
            <p>Because One2many is not stored in the database, you <strong>cannot</strong>:</p>
            <ul>
                <li>Use it in report groupings</li>
                <li>Filter by it directly in domains (some limitations)</li>
                <li>Export it directly to Excel</li>
            </ul>
        </div>

        <h3>Many2many - Multiple Links Both Ways</h3>

        <div class="technical-box">
            <h4>What Is Many2many?</h4>
            <p>A <strong>Many2many</strong> field allows linking <strong>multiple records</strong> on both sides.</p>
            <p><strong>How It Works:</strong> Creates a "junction table" in the database to store all the links.</p>
            <p><strong>How It Appears:</strong> As tags or a multi-select dropdown</p>
        </div>

        <div class="analogy-box">
            <h4>Real-World Example: Products and Categories</h4>
            <div class="diagram">
                <div style="display: flex; justify-content: center; gap: 50px; flex-wrap: wrap;">
                    <div style="text-align: center;">
                        <strong>Products</strong>
                        <div class="diagram-box" style="display: block; margin: 10px auto;">Laptop</div>
                        <div class="diagram-box" style="display: block; margin: 10px auto;">Keyboard</div>
                        <div class="diagram-box" style="display: block; margin: 10px auto;">Mouse</div>
                    </div>
                    <div style="display: flex; align-items: center;">
                        <span style="font-size: 40px;">‚Üî</span>
                    </div>
                    <div style="text-align: center;">
                        <strong>Categories</strong>
                        <div class="diagram-box secondary" style="display: block; margin: 10px auto;">Electronics</div>
                        <div class="diagram-box secondary" style="display: block; margin: 10px auto;">Office Supplies</div>
                        <div class="diagram-box secondary" style="display: block; margin: 10px auto;">Computer Accessories</div>
                    </div>
                </div>
                <p style="margin-top: 20px;">
                    <strong>Laptop</strong> is in: Electronics, Computer Accessories<br>
                    <strong>Keyboard</strong> is in: Electronics, Office Supplies, Computer Accessories<br>
                    <strong>Electronics</strong> contains: Laptop, Keyboard, Mouse
                </p>
            </div>
        </div>

        <table>
            <tr>
                <th>Field</th>
                <th>On Model</th>
                <th>Links To</th>
                <th>Business Meaning</th>
            </tr>
            <tr>
                <td>tag_ids</td>
                <td>sale.order</td>
                <td>crm.tag</td>
                <td>Tags for categorizing orders</td>
            </tr>
            <tr>
                <td>category_id</td>
                <td>res.partner</td>
                <td>res.partner.category</td>
                <td>Customer categories/tags</td>
            </tr>
            <tr>
                <td>tax_ids</td>
                <td>sale.order.line</td>
                <td>account.tax</td>
                <td>Taxes applied to a line</td>
            </tr>
            <tr>
                <td>user_ids</td>
                <td>res.groups</td>
                <td>res.users</td>
                <td>Users in a security group</td>
            </tr>
        </table>

        <div class="success-box">
            <h4>Quick Reference: Relationship Summary</h4>
            <table>
                <tr>
                    <th>Type</th>
                    <th>Stored?</th>
                    <th>UI Display</th>
                    <th>Can Group By?</th>
                    <th>Example</th>
                </tr>
                <tr>
                    <td>Many2one</td>
                    <td>Yes (ID)</td>
                    <td>Dropdown</td>
                    <td>Yes</td>
                    <td>Order ‚Üí Customer</td>
                </tr>
                <tr>
                    <td>One2many</td>
                    <td>No</td>
                    <td>Embedded list</td>
                    <td>No</td>
                    <td>Customer ‚Üí Orders</td>
                </tr>
                <tr>
                    <td>Many2many</td>
                    <td>Yes (junction)</td>
                    <td>Tags/Multi-select</td>
                    <td>Limited</td>
                    <td>Product ‚Üî Categories</td>
                </tr>
            </table>
        </div>

        <!-- ==================== SECTION 5: STORAGE ==================== -->
        <h2 id="storage">4. Field Storage - store=True vs store=False</h2>

        <div class="critical-box">
            <h4>Why This Matters</h4>
            <p>Whether a field is "stored" determines:</p>
            <ul>
                <li>Can you filter by it?</li>
                <li>Can you group reports by it?</li>
                <li>How fast is it to read?</li>
                <li>Does it take database space?</li>
            </ul>
        </div>

        <h3>The Two Storage Options</h3>

        <div class="comparison-grid">
            <div class="comparison-card good">
                <h4>store=True (Stored Field)</h4>
                <ul>
                    <li>Has a column in the database</li>
                    <li>Value is saved permanently</li>
                    <li>Fast to read (direct lookup)</li>
                    <li>Can be used in Group By</li>
                    <li>Can be filtered and searched</li>
                    <li>Takes database space</li>
                </ul>
                <p><strong>Default for:</strong> Char, Integer, Boolean, Many2one, etc.</p>
            </div>
            <div class="comparison-card bad" style="background: #dbeafe; border-color: #3b82f6;">
                <h4>store=False (Computed On-the-fly)</h4>
                <ul>
                    <li>No database column</li>
                    <li>Calculated every time you view it</li>
                    <li>Always shows latest value</li>
                    <li>Cannot use in Group By</li>
                    <li>Limited filtering options</li>
                    <li>No database space used</li>
                </ul>
                <p><strong>Default for:</strong> Computed fields, One2many, Related fields</p>
            </div>
        </div>

        <div class="analogy-box">
            <h4>Analogy: Calculator vs Notebook</h4>
            <table>
                <tr>
                    <th>store=True</th>
                    <th>store=False</th>
                </tr>
                <tr>
                    <td>Like writing the answer in a notebook</td>
                    <td>Like using a calculator each time</td>
                </tr>
                <tr>
                    <td>Answer is always ready to read</td>
                    <td>Must calculate every time</td>
                </tr>
                <tr>
                    <td>Might be outdated if inputs changed</td>
                    <td>Always fresh calculation</td>
                </tr>
                <tr>
                    <td>Takes paper (storage)</td>
                    <td>No paper needed</td>
                </tr>
            </table>
        </div>

        <h3>Practical Impact</h3>

        <div class="mechanism-box">
            <h4>Example: Total Amount on Invoice</h4>
            <p>The field <code>amount_total</code> on an invoice:</p>
            <ul>
                <li><strong>If store=False:</strong> Calculated by summing all lines each time you view the invoice. Always accurate but cannot group invoices by total.</li>
                <li><strong>If store=True:</strong> Stored in database. Can group "Invoices by Total Amount" in reports. Must be recalculated when lines change.</li>
            </ul>
            <p><strong>Odoo's Choice:</strong> <code>amount_total</code> is stored (store=True) so you can use it in reports!</p>
        </div>

        <!-- ==================== SECTION 6: COMPUTED FIELDS ==================== -->
        <h2 id="computed">5. Computed Fields Explained</h2>

        <div class="technical-box">
            <h4>What Is a Computed Field?</h4>
            <p>A <strong>computed field</strong> is a field whose value is calculated automatically based on other fields.</p>
            <p>Think of it like an <strong>Excel formula</strong> - the cell shows a result calculated from other cells.</p>
        </div>

        <h3>Common Computed Fields You Already Use</h3>

        <table>
            <tr>
                <th>Field</th>
                <th>Model</th>
                <th>How It's Calculated</th>
            </tr>
            <tr>
                <td>amount_total</td>
                <td>sale.order</td>
                <td>Sum of all order line totals + taxes</td>
            </tr>
            <tr>
                <td>price_subtotal</td>
                <td>sale.order.line</td>
                <td>quantity √ó unit price (with discounts)</td>
            </tr>
            <tr>
                <td>display_name</td>
                <td>res.partner</td>
                <td>Combines name + company info</td>
            </tr>
            <tr>
                <td>age</td>
                <td>hr.employee</td>
                <td>Today's date - birthday</td>
            </tr>
            <tr>
                <td>qty_available</td>
                <td>product.product</td>
                <td>Sum of all stock quantities</td>
            </tr>
        </table>

        <h3>The Five Configurations of Computed Fields</h3>

        <table>
            <tr>
                <th>Configuration</th>
                <th>Stored?</th>
                <th>Editable?</th>
                <th>Can Filter/Group?</th>
                <th>When to Use</th>
            </tr>
            <tr>
                <td><strong>Computed, Not Stored</strong><br><small><code>compute='_compute_x'</code></small></td>
                <td>No</td>
                <td>No</td>
                <td>No</td>
                <td>Dynamic values (age, days remaining, real-time status)</td>
            </tr>
            <tr>
                <td><strong>Computed, Stored</strong><br><small><code>compute='...', store=True</code></small></td>
                <td>Yes</td>
                <td>No</td>
                <td>Yes</td>
                <td>Calculated values for reporting (totals, margins)</td>
            </tr>
            <tr>
                <td><strong>Computed, Stored, Editable</strong><br><small><code>compute='...', store=True, readonly=False</code></small></td>
                <td>Yes</td>
                <td>Yes (overwrite)</td>
                <td>Yes</td>
                <td>Default value that user can override (e.g., pricelist, journal)</td>
            </tr>
            <tr>
                <td><strong>Computed with Inverse</strong><br><small><code>compute='...', inverse='_inverse_x'</code></small></td>
                <td>Optional</td>
                <td>Yes (bidirectional)</td>
                <td>If stored</td>
                <td>Two-way binding (edit the computed value to update source)</td>
            </tr>
            <tr>
                <td><strong>Computed with Precompute</strong><br><small><code>compute='...', store=True, precompute=True</code></small></td>
                <td>Yes</td>
                <td>Optional</td>
                <td>Yes</td>
                <td>Compute BEFORE record creation for performance (Odoo 16+)</td>
            </tr>
        </table>

        <div class="info-box">
            <h4>Key Behaviors to Remember</h4>
            <ul>
                <li><strong>Default store:</strong> Computed fields are <code>store=False</code> by default</li>
                <li><strong>Default readonly:</strong> Computed fields are readonly UNLESS they have an <code>inverse</code></li>
                <li><strong>Default copy:</strong> Computed fields are NOT copied on duplicate, unless stored AND not readonly</li>
                <li><strong>Precompute:</strong> Only works on stored fields - computes value BEFORE record creation (faster)</li>
                <li><strong>@api.depends:</strong> Required for stored computed fields to know when to recalculate</li>
            </ul>
        </div>

        <div class="success-box">
            <h4>Real Examples in Odoo</h4>
            <table>
                <tr>
                    <th>Where</th>
                    <th>Field</th>
                    <th>Configuration</th>
                    <th>Why?</th>
                </tr>
                <tr>
                    <td>Sales Order</td>
                    <td>Pricelist</td>
                    <td>Computed, Stored, Editable, Precompute</td>
                    <td>Default from customer, user can change</td>
                </tr>
                <tr>
                    <td>Sales Order</td>
                    <td>Currency</td>
                    <td>Computed, Stored, Editable, Precompute</td>
                    <td>Default from pricelist, editable</td>
                </tr>
                <tr>
                    <td>Event Track</td>
                    <td>Track Date</td>
                    <td>Computed, Inverse, Stored</td>
                    <td>Edit track date ‚Üí updates event timing</td>
                </tr>
                <tr>
                    <td>Link Tracker</td>
                    <td>Short URL Code</td>
                    <td>Computed, Inverse, Editable</td>
                    <td>Auto-generated code, but customizable</td>
                </tr>
                <tr>
                    <td>HR Work Entry</td>
                    <td>Is Working Time</td>
                    <td>Computed, Inverse, Editable</td>
                    <td>Calculated, but HR can override</td>
                </tr>
            </table>
        </div>

        <div class="mechanism-box">
            <h4>The @api.depends Decorator - What Triggers Recalculation?</h4>
            <p>For stored computed fields, <code>@api.depends</code> tells Odoo <strong>when to recalculate</strong>:</p>
            <ul>
                <li><code>@api.depends('price_unit', 'quantity')</code> = Recalculate when price or quantity changes</li>
                <li><code>@api.depends('order_line.price_subtotal')</code> = Recalculate when any order line subtotal changes</li>
                <li><code>@api.depends('partner_id.country_id')</code> = Recalculate when the customer's country changes</li>
            </ul>
        </div>

        <div class="success-box">
            <h4>Business Scenario: When to Store Computed Fields</h4>
            <table>
                <tr>
                    <th>Scenario</th>
                    <th>Store?</th>
                    <th>Reason</th>
                </tr>
                <tr>
                    <td>Invoice total amount</td>
                    <td>Yes</td>
                    <td>Need to group invoices by amount in reports</td>
                </tr>
                <tr>
                    <td>Days until deadline</td>
                    <td>No</td>
                    <td>Changes every day, would need constant recalculation</td>
                </tr>
                <tr>
                    <td>Profit margin %</td>
                    <td>Yes</td>
                    <td>Want to filter "orders with margin > 20%"</td>
                </tr>
                <tr>
                    <td>Full address (combined)</td>
                    <td>No</td>
                    <td>Just for display, don't need to search by it</td>
                </tr>
            </table>
        </div>

        <!-- ==================== SECTION 7: RELATED FIELDS ==================== -->
        <h2 id="related">6. Related Fields Explained</h2>

        <div class="technical-box">
            <h4>What Is a Related Field?</h4>
            <p>A <strong>related field</strong> displays a value from a <strong>linked record</strong> on the current form.</p>
            <p>It "reaches through" a Many2one relationship to show information from the related record.</p>
        </div>

        <div class="analogy-box">
            <h4>Example: Showing Customer's Country on Sales Order</h4>
            <div class="diagram">
                <div class="diagram-box">Sale Order</div>
                <span class="arrow">partner_id ‚Üí</span>
                <div class="diagram-box secondary">Customer (res.partner)</div>
                <span class="arrow">country_id ‚Üí</span>
                <div class="diagram-box tertiary">Country (res.country)</div>
            </div>
            <p style="margin-top: 15px;">A related field <code>partner_country_id</code> on Sale Order can directly show the customer's country without storing it!</p>
            <p><strong>Path:</strong> <code>partner_id.country_id</code></p>
        </div>

        <h3>Related Fields: store=True vs store=False</h3>

        <div class="comparison-grid">
            <div class="comparison-card good">
                <h4>Related Field with store=False (Default)</h4>
                <ul>
                    <li>Always shows current value from linked record</li>
                    <li>If customer changes their country, you see new country immediately</li>
                    <li>Cannot use in Group By</li>
                    <li>Limited search capabilities</li>
                </ul>
                <p><strong>Use When:</strong> You just want to display info on a form</p>
            </div>
            <div class="comparison-card good">
                <h4>Related Field with store=True</h4>
                <ul>
                    <li>Copies value and stores it in database</li>
                    <li>Can use in Group By and reports</li>
                    <li>May become "stale" if linked record changes</li>
                    <li>Takes database space</li>
                </ul>
                <p><strong>Use When:</strong> You need to filter or group by this value</p>
            </div>
        </div>

        <div class="warning-box">
            <h4>The N+1 Query Problem</h4>
            <p>If you have a <strong>non-stored related field</strong> and display it in a list view with 100 records:</p>
            <ul>
                <li>Odoo might need to make 100 separate database queries (one per record)</li>
                <li>This can slow down the page significantly</li>
            </ul>
            <p><strong>Solution:</strong> If the field is shown in list views, consider <code>store=True</code></p>
        </div>

        <!-- ==================== SECTION 8: GROUP BY ==================== -->
        <h2 id="groupby">7. Why Group By Requires Stored Fields</h2>

        <div class="critical-box">
            <h4>The Problem</h4>
            <p>You want to create a report: "Sales by Customer Country"</p>
            <p>You try to group by a related field <code>partner_id.country_id</code> but it doesn't work. Why?</p>
        </div>

        <h3>How Group By Works (Simple Explanation)</h3>

        <div class="mechanism-box">
            <h4>What Happens When You "Group By" in Odoo</h4>
            <ol>
                <li>Odoo sends a request to the database (SQL query)</li>
                <li>The database groups records by the specified field</li>
                <li>The database returns grouped totals</li>
            </ol>
            <p><strong>The Problem:</strong> The database can only group by <strong>columns that exist in the database</strong>.</p>
            <p>Non-stored fields don't have a database column, so the database doesn't know how to group by them!</p>
        </div>

        <div class="analogy-box">
            <h4>Analogy: Library Card Catalog</h4>
            <p>Imagine you want to organize library books:</p>
            <ul>
                <li><strong>Stored field:</strong> Like having "Genre" written on each book's card. Easy to sort by genre.</li>
                <li><strong>Non-stored field:</strong> Like calculating "Days since published" - you'd have to look at each book individually. Can't pre-sort by it.</li>
            </ul>
        </div>

        <h3>Solution: Make the Field Stored</h3>

        <div class="success-box">
            <h4>When You Need to Group By a Computed/Related Field:</h4>
            <p>Ask your developer to add <code>store=True</code> to the field definition.</p>
            <p><strong>Trade-off:</strong> The field will take database space and might need recalculation triggers.</p>
        </div>

        <table>
            <tr>
                <th>Report Need</th>
                <th>Field Type Required</th>
                <th>Solution</th>
            </tr>
            <tr>
                <td>Group by customer country</td>
                <td>Stored field</td>
                <td>Add stored related field for country</td>
            </tr>
            <tr>
                <td>Filter by salesperson</td>
                <td>Any Many2one</td>
                <td>Already stored by default</td>
            </tr>
            <tr>
                <td>Group by profit margin</td>
                <td>Stored computed field</td>
                <td>Add store=True to margin field</td>
            </tr>
            <tr>
                <td>Sum of order totals</td>
                <td>Stored field</td>
                <td>amount_total is already stored</td>
            </tr>
        </table>

        <!-- ==================== SECTION 9: VIEWS ==================== -->
        <h2 id="views">8. Views - Form, List, Kanban, and More</h2>

        <div class="technical-box">
            <h4>What Are Views?</h4>
            <p><strong>Views</strong> determine <strong>how data is displayed</strong> to users. The same data can be shown in different ways.</p>
            <p>Views are defined in XML files and control:</p>
            <ul>
                <li>Which fields are visible</li>
                <li>How fields are arranged</li>
                <li>What buttons and actions are available</li>
                <li>Conditional formatting and visibility</li>
            </ul>
        </div>

        <h3>View Types in Odoo</h3>

        <table>
            <tr>
                <th>View Type</th>
                <th>XML Tag</th>
                <th>Purpose</th>
                <th>Best For</th>
            </tr>
            <tr>
                <td><strong>Form</strong></td>
                <td><code>&lt;form&gt;</code></td>
                <td>View/edit one record</td>
                <td>Detailed data entry</td>
            </tr>
            <tr>
                <td><strong>List</strong></td>
                <td><code>&lt;list&gt;</code></td>
                <td>Table view of multiple records</td>
                <td>Quick overview, bulk actions</td>
            </tr>
            <tr>
                <td><strong>Kanban</strong></td>
                <td><code>&lt;kanban&gt;</code></td>
                <td>Cards in columns</td>
                <td>Pipeline/stage management</td>
            </tr>
            <tr>
                <td><strong>Calendar</strong></td>
                <td><code>&lt;calendar&gt;</code></td>
                <td>Records on calendar</td>
                <td>Scheduling, deadlines</td>
            </tr>
            <tr>
                <td><strong>Graph</strong></td>
                <td><code>&lt;graph&gt;</code></td>
                <td>Charts and graphs</td>
                <td>Data visualization</td>
            </tr>
            <tr>
                <td><strong>Pivot</strong></td>
                <td><code>&lt;pivot&gt;</code></td>
                <td>Pivot table analysis</td>
                <td>Business intelligence</td>
            </tr>
            <tr>
                <td><strong>Gantt</strong> <span class="badge badge-enterprise">Enterprise</span></td>
                <td><code>&lt;gantt&gt;</code></td>
                <td>Timeline view</td>
                <td>Project planning</td>
            </tr>
            <tr>
                <td><strong>Map</strong> <span class="badge badge-enterprise">Enterprise</span></td>
                <td><code>&lt;map&gt;</code></td>
                <td>Geographic map</td>
                <td>Location-based data</td>
            </tr>
            <tr>
                <td><strong>Cohort</strong> <span class="badge badge-enterprise">Enterprise</span></td>
                <td><code>&lt;cohort&gt;</code></td>
                <td>Cohort analysis</td>
                <td>Retention, churn analysis</td>
            </tr>
            <tr>
                <td><strong>Activity</strong></td>
                <td><code>&lt;activity&gt;</code></td>
                <td>Activity scheduling</td>
                <td>Task/follow-up management</td>
            </tr>
            <tr>
                <td><strong>Search</strong></td>
                <td><code>&lt;search&gt;</code></td>
                <td>Filter definitions</td>
                <td>Defining search options</td>
            </tr>
        </table>

        <div class="info-box">
            <h4>Note on Terminology</h4>
            <p>List views use the <code>&lt;list&gt;</code> XML tag. You may see older documentation or code using <code>&lt;tree&gt;</code> - both work, but <code>&lt;list&gt;</code> is the current standard.</p>
        </div>

        <h3>View Examples</h3>

        <div class="mechanism-box">
            <h4>Form View - Editing a Single Record</h4>
            <p>The form view is where users enter and edit detailed information.</p>
            <p><strong>Key elements:</strong></p>
            <ul>
                <li><strong>Header</strong> - Status bar and buttons</li>
                <li><strong>Sheet</strong> - Main content area</li>
                <li><strong>Group</strong> - Organizes fields in columns</li>
                <li><strong>Notebook</strong> - Creates tabs</li>
                <li><strong>Chatter</strong> - Messages and activity log</li>
            </ul>
        </div>

        <div class="mechanism-box">
            <h4>List View - Viewing Multiple Records</h4>
            <p>Shows records in a table format with sortable columns.</p>
            <p><strong>Features:</strong></p>
            <ul>
                <li>Click column headers to sort</li>
                <li>Select multiple records for bulk actions</li>
                <li>Inline editing (if enabled)</li>
                <li>Optional columns (user can show/hide)</li>
            </ul>
        </div>

        <div class="mechanism-box">
            <h4>Kanban View - Pipeline Management</h4>
            <p>Perfect for tracking items through stages (like CRM pipeline).</p>
            <p><strong>Features:</strong></p>
            <ul>
                <li>Drag and drop between columns</li>
                <li>Color coding by status</li>
                <li>Progress bars</li>
                <li>Quick create within columns</li>
            </ul>
        </div>

        <!-- ==================== SECTION 10: WIDGETS ==================== -->
        <h2 id="widgets">9. Widgets - Display vs Data Storage</h2>

        <div class="critical-box">
            <h4>Key Concept</h4>
            <p><strong>Widgets change how a field LOOKS, not what it STORES.</strong></p>
            <p>The same Selection field can appear as a dropdown, radio buttons, or badges - but it still stores the same data.</p>
        </div>

        <h3>Common Widgets</h3>

        <table>
            <tr>
                <th>Widget</th>
                <th>Used With</th>
                <th>How It Looks</th>
                <th>Use Case</th>
            </tr>
            <tr>
                <td><code>radio</code></td>
                <td>Selection</td>
                <td>Radio buttons</td>
                <td>Few options, visible at once</td>
            </tr>
            <tr>
                <td><code>badge</code></td>
                <td>Selection</td>
                <td>Colored badge</td>
                <td>Status display in lists</td>
            </tr>
            <tr>
                <td><code>statusbar</code></td>
                <td>Selection</td>
                <td>Horizontal status bar</td>
                <td>Document workflow stages</td>
            </tr>
            <tr>
                <td><code>priority</code></td>
                <td>Selection</td>
                <td>Star ratings</td>
                <td>Priority/importance</td>
            </tr>
            <tr>
                <td><code>many2many_tags</code></td>
                <td>Many2many</td>
                <td>Colored tags</td>
                <td>Categories, labels</td>
            </tr>
            <tr>
                <td><code>many2one_avatar_user</code></td>
                <td>Many2one</td>
                <td>User with avatar</td>
                <td>Assigned user field</td>
            </tr>
            <tr>
                <td><code>monetary</code></td>
                <td>Float/Monetary</td>
                <td>Currency formatted</td>
                <td>Money amounts</td>
            </tr>
            <tr>
                <td><code>percentage</code></td>
                <td>Float</td>
                <td>Percentage with %</td>
                <td>Discount, margin</td>
            </tr>
            <tr>
                <td><code>progressbar</code></td>
                <td>Float/Integer</td>
                <td>Progress bar</td>
                <td>Completion percentage</td>
            </tr>
            <tr>
                <td><code>image</code></td>
                <td>Binary</td>
                <td>Image preview</td>
                <td>Product photos</td>
            </tr>
            <tr>
                <td><code>handle</code></td>
                <td>Integer</td>
                <td>Drag handle</td>
                <td>Manual sorting</td>
            </tr>
            <tr>
                <td><code>html</code></td>
                <td>Html</td>
                <td>Rich text editor</td>
                <td>Descriptions</td>
            </tr>
            <tr>
                <td><code>daterange</code></td>
                <td>Date</td>
                <td>Date range picker</td>
                <td>Start/end dates</td>
            </tr>
        </table>

        <div class="analogy-box">
            <h4>Example: Same Data, Different Display</h4>
            <p>A Selection field for "Priority" with values: low, medium, high</p>
            <div class="diagram">
                <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px; margin-top: 20px;">
                    <div style="text-align: center; padding: 20px; background: #f1f5f9; border-radius: 8px;">
                        <strong>Default (dropdown)</strong><br>
                        <select style="padding: 8px; margin-top: 10px;">
                            <option>Low</option>
                            <option>Medium</option>
                            <option selected>High</option>
                        </select>
                    </div>
                    <div style="text-align: center; padding: 20px; background: #f1f5f9; border-radius: 8px;">
                        <strong>widget="radio"</strong><br>
                        <div style="margin-top: 10px; text-align: left;">
                            <input type="radio" name="prio"> Low<br>
                            <input type="radio" name="prio"> Medium<br>
                            <input type="radio" name="prio" checked> High
                        </div>
                    </div>
                    <div style="text-align: center; padding: 20px; background: #f1f5f9; border-radius: 8px;">
                        <strong>widget="priority"</strong><br>
                        <div style="margin-top: 10px; font-size: 24px; color: gold;">
                            ‚òÖ‚òÖ‚òÖ
                        </div>
                    </div>
                </div>
            </div>
            <p style="margin-top: 15px;">All three store the same value ('high') but display it differently!</p>
        </div>

        <!-- ==================== SECTION 11: DOMAINS ==================== -->
        <h2 id="domains">10. Domain Filters - Controlling Data</h2>

        <div class="technical-box">
            <h4>What Is a Domain?</h4>
            <p>A <strong>domain</strong> is a filter condition that limits which records are shown or selectable.</p>
            <p>Domains are written as a list of conditions: <code>[('field', 'operator', 'value')]</code></p>
        </div>

        <h3>How Domains Work</h3>

        <div class="mechanism-box">
            <h4>Domain Structure</h4>
            <p>A domain is a <strong>list of conditions</strong> (called "leaves") combined with <strong>logical operators</strong>.</p>

            <p><strong>Each condition is a tuple with 3 parts:</strong></p>
            <ol>
                <li><strong>Field name</strong> - The field to filter on (can use dot notation for related fields)</li>
                <li><strong>Operator</strong> - How to compare (=, !=, in, like, etc.)</li>
                <li><strong>Value</strong> - What to compare against</li>
            </ol>

            <p><strong>Example breakdown:</strong></p>
            <pre><code>[('state', '=', 'draft'), ('amount', '>', 1000)]
 ‚Üì         ‚Üì       ‚Üì
 field   operator  value</code></pre>

            <p><strong>Default behavior:</strong> Multiple conditions are combined with AND (all must be true).</p>
        </div>

        <div class="info-box">
            <h4>Reading Domains Step by Step</h4>
            <p><strong>Simple domain:</strong> <code>[('active', '=', True)]</code></p>
            <p>‚Üí "Show records where active equals True"</p>

            <p><strong>Multiple conditions:</strong> <code>[('state', '=', 'sale'), ('amount', '>', 1000)]</code></p>
            <p>‚Üí "Show records where state is 'sale' AND amount is greater than 1000"</p>

            <p><strong>OR condition:</strong> <code>['|', ('state', '=', 'draft'), ('state', '=', 'sent')]</code></p>
            <p>‚Üí "Show records where state is 'draft' OR state is 'sent'"</p>

            <p><strong>Dot notation:</strong> <code>[('partner_id.country_id.code', '=', 'IN')]</code></p>
            <p>‚Üí "Show records where the partner's country code is 'IN' (India)"</p>
        </div>

        <h3>Domain Operators</h3>

        <table>
            <tr>
                <th>Operator</th>
                <th>Meaning</th>
                <th>Example</th>
                <th>Result</th>
            </tr>
            <tr>
                <td><code>=</code></td>
                <td>Equals</td>
                <td><code>[('state', '=', 'draft')]</code></td>
                <td>Records where state is draft</td>
            </tr>
            <tr>
                <td><code>!=</code></td>
                <td>Not equals</td>
                <td><code>[('state', '!=', 'cancel')]</code></td>
                <td>Records not cancelled</td>
            </tr>
            <tr>
                <td><code>&gt;</code></td>
                <td>Greater than</td>
                <td><code>[('amount', '>', 1000)]</code></td>
                <td>Amount over 1000</td>
            </tr>
            <tr>
                <td><code>&lt;</code></td>
                <td>Less than</td>
                <td><code>[('amount', '<', 500)]</code></td>
                <td>Amount under 500</td>
            </tr>
            <tr>
                <td><code>&gt;=</code></td>
                <td>Greater or equal</td>
                <td><code>[('qty', '>=', 10)]</code></td>
                <td>Quantity 10 or more</td>
            </tr>
            <tr>
                <td><code>&lt;=</code></td>
                <td>Less or equal</td>
                <td><code>[('date', '<=', '2024-12-31')]</code></td>
                <td>Date on or before Dec 31</td>
            </tr>
            <tr>
                <td><code>in</code></td>
                <td>In list</td>
                <td><code>[('state', 'in', ['draft', 'sent'])]</code></td>
                <td>Draft OR sent</td>
            </tr>
            <tr>
                <td><code>not in</code></td>
                <td>Not in list</td>
                <td><code>[('state', 'not in', ['cancel', 'done'])]</code></td>
                <td>Not cancelled or done</td>
            </tr>
            <tr>
                <td><code>like</code></td>
                <td>Contains (case sensitive)</td>
                <td><code>[('name', 'like', 'Sales')]</code></td>
                <td>Name contains "Sales"</td>
            </tr>
            <tr>
                <td><code>ilike</code></td>
                <td>Contains (case insensitive)</td>
                <td><code>[('email', 'ilike', '@gmail')]</code></td>
                <td>Gmail addresses</td>
            </tr>
            <tr>
                <td><code>=like</code></td>
                <td>Pattern match</td>
                <td><code>[('ref', '=like', 'SO%')]</code></td>
                <td>Starts with "SO"</td>
            </tr>
            <tr>
                <td><code>=ilike</code></td>
                <td>Pattern (case insensitive)</td>
                <td><code>[('name', '=ilike', '%ltd')]</code></td>
                <td>Ends with "ltd"</td>
            </tr>
            <tr>
                <td><code>not like</code></td>
                <td>Does not contain (case sensitive)</td>
                <td><code>[('name', 'not like', 'Test')]</code></td>
                <td>Name doesn't contain "Test"</td>
            </tr>
            <tr>
                <td><code>not ilike</code></td>
                <td>Does not contain (case insensitive)</td>
                <td><code>[('email', 'not ilike', 'spam')]</code></td>
                <td>Email without "spam"</td>
            </tr>
            <tr>
                <td><code>=?</code></td>
                <td>Equals if value is set</td>
                <td><code>[('company_id', '=?', company_id)]</code></td>
                <td>Filter by company only if company_id has a value</td>
            </tr>
            <tr>
                <td><code>child_of</code></td>
                <td>Hierarchical child</td>
                <td><code>[('categ_id', 'child_of', 5)]</code></td>
                <td>Category 5 and children</td>
            </tr>
            <tr>
                <td><code>parent_of</code></td>
                <td>Hierarchical parent</td>
                <td><code>[('categ_id', 'parent_of', 10)]</code></td>
                <td>Parents of category 10</td>
            </tr>
            <tr>
                <td><code>any</code></td>
                <td>Relational subdomain</td>
                <td><code>[('order_line', 'any', [('product_id.type', '=', 'service')])]</code></td>
                <td>Orders with service products</td>
            </tr>
            <tr>
                <td><code>not any</code></td>
                <td>Negated subdomain</td>
                <td><code>[('order_line', 'not any', [('qty_delivered', '>', 0)])]</code></td>
                <td>Orders with no delivered lines</td>
            </tr>
        </table>

        <div class="info-box">
            <h4>The "any" and "not any" Operators</h4>
            <p>These operators filter through relational fields with complex conditions:</p>

            <p><strong>The <code>any</code> operator:</strong></p>
            <ul>
                <li>Filter records where <strong>at least one</strong> related record matches a subdomain</li>
                <li><strong>Syntax:</strong> <code>[('relation_field', 'any', [subdomain])]</code></li>
            </ul>

            <p><strong>The <code>not any</code> operator:</strong></p>
            <ul>
                <li>Filter records where <strong>no</strong> related records match a subdomain</li>
                <li><strong>Syntax:</strong> <code>[('relation_field', 'not any', [subdomain])]</code></li>
            </ul>

            <p><strong>Examples:</strong></p>
            <pre><code># Find sales orders with service products
[('order_line', 'any', [('product_id.type', '=', 'service')])]

# Find orders with NO delivered lines
[('order_line', 'not any', [('qty_delivered', '>', 0)])]

# Find partners with invoices to pay
[('partner_invoice_id', 'any', [('state', '=', 'posted')])]

# Find events with employee registrations
[('registration_ids', 'any', [('partner_id.employee', '=', True)])]</code></pre>

            <p><strong>Note:</strong> The traditional dot notation <code>[('order_line.product_id.type', '=', 'service')]</code> is equivalent to using <code>any</code> and still works.</p>
        </div>

        <div class="warning-box">
            <h4>The "=?" Conditional Operator</h4>
            <p>The <code>=?</code> operator is special - it only applies the filter if the value is truthy (not False/None/empty):</p>

            <pre><code># Only filter by company if company_id is set
domain="[('company_id', '=?', company_id)]"

# This is equivalent to:
# If company_id is set: [('company_id', '=', company_id)]
# If company_id is False/empty: [] (no filter, show all)</code></pre>

            <p><strong>Common use case:</strong> Field domains that should filter by company only when a company is selected.</p>
            <p><strong>Example from Odoo:</strong> <code>domain="[('share', '=', False), ('company_ids', '=?', company_id)]"</code></p>
        </div>

        <h3>Pattern Matching with Wildcards</h3>

        <div class="mechanism-box">
            <h4>Using % and _ Wildcards</h4>
            <p>The <code>=like</code> and <code>=ilike</code> operators use SQL LIKE syntax with wildcards:</p>

            <table>
                <tr>
                    <th>Wildcard</th>
                    <th>Meaning</th>
                    <th>Example</th>
                    <th>Matches</th>
                </tr>
                <tr>
                    <td><code>%</code></td>
                    <td>Any characters (0 or more)</td>
                    <td><code>[('ref', '=like', 'SO%')]</code></td>
                    <td>SO001, SO123, SO</td>
                </tr>
                <tr>
                    <td><code>_</code></td>
                    <td>Exactly one character</td>
                    <td><code>[('code', '=like', 'A_')]</code></td>
                    <td>A1, AB, AX (not A, A12)</td>
                </tr>
                <tr>
                    <td><code>%...%</code></td>
                    <td>Contains anywhere</td>
                    <td><code>[('name', '=ilike', '%sales%')]</code></td>
                    <td>Sales Team, Pre-Sales, sales</td>
                </tr>
            </table>

            <p><strong>Difference between <code>like</code> and <code>=like</code>:</strong></p>
            <ul>
                <li><code>like</code> automatically adds <code>%</code> around your value ‚Üí <code>%value%</code></li>
                <li><code>=like</code> uses your value exactly as provided (you control the wildcards)</li>
            </ul>

            <pre><code># These are equivalent:
[('name', 'like', 'Sales')]      # ‚Üí matches '%Sales%'
[('name', '=like', '%Sales%')]   # ‚Üí matches '%Sales%'

# But these are different:
[('ref', '=like', 'SO%')]        # Starts with SO
[('ref', 'like', 'SO')]          # Contains SO anywhere</code></pre>
        </div>

        <h3>Combining Conditions</h3>

        <div class="mechanism-box">
            <h4>AND, OR, NOT Logic (Prefix Notation)</h4>
            <p>Odoo uses <strong>prefix notation</strong> (Polish notation) where the operator comes BEFORE the conditions it applies to.</p>

            <table>
                <tr>
                    <th>Symbol</th>
                    <th>Meaning</th>
                    <th>How It Works</th>
                </tr>
                <tr>
                    <td><code>&</code> (default)</td>
                    <td>AND - both must be true</td>
                    <td>Applied to the NEXT TWO conditions</td>
                </tr>
                <tr>
                    <td><code>|</code></td>
                    <td>OR - either can be true</td>
                    <td>Applied to the NEXT TWO conditions</td>
                </tr>
                <tr>
                    <td><code>!</code></td>
                    <td>NOT - inverse</td>
                    <td>Applied to the NEXT ONE condition</td>
                </tr>
            </table>
        </div>

        <div class="info-box">
            <h4>Understanding Prefix Notation</h4>
            <p><strong>Key rule:</strong> The operator applies to the conditions that follow it.</p>

            <p><strong>Simple OR:</strong></p>
            <pre><code>['|', ('state', '=', 'draft'), ('state', '=', 'sent')]
  ‚Üì         ‚Üì                        ‚Üì
 OR    first condition        second condition

‚Üí state is draft OR state is sent</code></pre>

            <p><strong>Chained OR (A OR B OR C):</strong></p>
            <pre><code>['|', '|', ('a', '=', 1), ('b', '=', 2), ('c', '=', 3)]
  ‚Üì    ‚Üì       ‚Üì              ‚Üì              ‚Üì
 OR   OR      A              B              C

‚Üí First | applies to (result of second |) and C
‚Üí Second | applies to A and B
‚Üí Final: A OR B OR C</code></pre>

            <p><strong>Mixed AND/OR (A AND (B OR C)):</strong></p>
            <pre><code>['&', ('a', '=', 1), '|', ('b', '=', 2), ('c', '=', 3)]
  ‚Üì       ‚Üì          ‚Üì       ‚Üì              ‚Üì
 AND      A         OR       B              C

‚Üí & applies to A and (result of |)
‚Üí | applies to B and C
‚Üí Final: A AND (B OR C)</code></pre>
        </div>

        <div class="success-box">
            <h4>Common Domain Patterns</h4>
            <p><strong>1. Either/Or (A OR B):</strong></p>
            <pre><code>['|', ('state', '=', 'draft'), ('state', '=', 'sent')]</code></pre>

            <p><strong>2. Multiple OR (A OR B OR C):</strong></p>
            <pre><code>['|', '|', ('state', '=', 'a'), ('state', '=', 'b'), ('state', '=', 'c')]
# Easier alternative using 'in':
[('state', 'in', ['a', 'b', 'c'])]</code></pre>

            <p><strong>3. AND with OR ((A OR B) AND C):</strong></p>
            <pre><code>['&', '|', ('type', '=', 'a'), ('type', '=', 'b'), ('active', '=', True)]</code></pre>

            <p><strong>4. NOT condition:</strong></p>
            <pre><code>['!', ('state', '=', 'cancel')]  # state is NOT cancel
# Easier alternative:
[('state', '!=', 'cancel')]</code></pre>

            <p><strong>5. Complex: (A AND B) OR (C AND D):</strong></p>
            <pre><code>['|', '&', ('a', '=', 1), ('b', '=', 2), '&', ('c', '=', 3), ('d', '=', 4)]</code></pre>
        </div>

        <h3>Where Domains Are Used</h3>

        <table>
            <tr>
                <th>Location</th>
                <th>Purpose</th>
                <th>Example</th>
            </tr>
            <tr>
                <td><strong>Field Definition</strong></td>
                <td>Limit dropdown choices</td>
                <td>partner_id domain: only show customers</td>
            </tr>
            <tr>
                <td><strong>Search Filters</strong></td>
                <td>Predefined searches</td>
                <td>"My Orders" filter</td>
            </tr>
            <tr>
                <td><strong>Action Windows</strong></td>
                <td>What records to show</td>
                <td>Menu shows only quotations</td>
            </tr>
            <tr>
                <td><strong>Record Rules</strong></td>
                <td>Security restrictions</td>
                <td>Users see only their company's data</td>
            </tr>
            <tr>
                <td><strong>Reports</strong></td>
                <td>Filter report data</td>
                <td>Only confirmed invoices</td>
            </tr>
        </table>

        <div class="success-box">
            <h4>Practical Examples</h4>
            <p><strong>1. Show only companies (not individuals) in dropdown:</strong></p>
            <p><code>[('is_company', '=', True)]</code></p>

            <p><strong>2. Show only products in stock:</strong></p>
            <p><code>[('qty_available', '>', 0)]</code></p>

            <p><strong>3. Show orders from last 30 days:</strong></p>
            <p><code>[('date_order', '>=', (context_today() - relativedelta(days=30)).strftime('%Y-%m-%d'))]</code></p>

            <p><strong>4. Show only active, confirmed sales orders for current user:</strong></p>
            <p><code>[('active', '=', True), ('state', '=', 'sale'), ('user_id', '=', uid)]</code></p>
        </div>

        <h3>Writing Domains Step by Step</h3>

        <div class="mechanism-box">
            <h4>Domain Writing Guide</h4>
            <p><strong>Step 1:</strong> Write your requirement in plain English</p>
            <p>Example: "Show customers from Maharashtra or Gujarat who have placed orders over ‚Çπ50,000"</p>

            <p><strong>Step 2:</strong> Break it into conditions</p>
            <ul>
                <li>Customer type = customer</li>
                <li>State is Maharashtra OR Gujarat</li>
                <li>Has orders > 50000</li>
            </ul>

            <p><strong>Step 3:</strong> Convert to domain syntax</p>
            <pre><code># Start with simple AND conditions:
[
    ('customer_rank', '>', 0),           # is a customer
    ('state_id.code', 'in', ['MH', 'GJ']),  # Maharashtra or Gujarat
    ('sale_order_ids.amount_total', '>', 50000)  # orders over 50000
]</code></pre>

            <p><strong>Step 4:</strong> Add OR logic if needed (using prefix notation)</p>
            <pre><code># If you needed "Maharashtra customers OR Gujarat vendors":
['|',
    '&', ('state_id.code', '=', 'MH'), ('customer_rank', '>', 0),
    '&', ('state_id.code', '=', 'GJ'), ('supplier_rank', '>', 0)
]</code></pre>
        </div>

        <h3>Common Mistakes to Avoid</h3>

        <div class="warning-box">
            <h4>Domain Pitfalls</h4>

            <p><strong>‚ùå Wrong: Using = with a list</strong></p>
            <pre><code>[('state', '=', ['draft', 'sent'])]  # WRONG!</code></pre>
            <p><strong>‚úÖ Correct: Use 'in' for multiple values</strong></p>
            <pre><code>[('state', 'in', ['draft', 'sent'])]  # Correct</code></pre>

            <p><strong>‚ùå Wrong: Forgetting prefix for OR</strong></p>
            <pre><code>[('state', '=', 'draft'), '|', ('state', '=', 'sent')]  # WRONG!</code></pre>
            <p><strong>‚úÖ Correct: Put '|' before the conditions</strong></p>
            <pre><code>['|', ('state', '=', 'draft'), ('state', '=', 'sent')]  # Correct</code></pre>

            <p><strong>‚ùå Wrong: Using == instead of =</strong></p>
            <pre><code>[('active', '==', True)]  # Deprecated, still works but not recommended</code></pre>
            <p><strong>‚úÖ Correct: Use single =</strong></p>
            <pre><code>[('active', '=', True)]  # Correct</code></pre>

            <p><strong>‚ùå Wrong: Comparing to None</strong></p>
            <pre><code>[('partner_id', '=', None)]  # WRONG!</code></pre>
            <p><strong>‚úÖ Correct: Use False for empty/null</strong></p>
            <pre><code>[('partner_id', '=', False)]  # Correct - finds records without partner</code></pre>

            <p><strong>‚ùå Wrong: Uppercase operators</strong></p>
            <pre><code>[('name', 'ILIKE', 'test')]  # Deprecated since Odoo 19</code></pre>
            <p><strong>‚úÖ Correct: Always lowercase operators</strong></p>
            <pre><code>[('name', 'ilike', 'test')]  # Correct</code></pre>
        </div>

        <div class="info-box">
            <h4>Domain Variables in XML</h4>
            <p>When writing domains in XML views, you can use special variables:</p>

            <table>
                <tr>
                    <th>Variable</th>
                    <th>Meaning</th>
                    <th>Example</th>
                </tr>
                <tr>
                    <td><code>uid</code></td>
                    <td>Current user's ID</td>
                    <td><code>[('user_id', '=', uid)]</code></td>
                </tr>
                <tr>
                    <td><code>user</code></td>
                    <td>Current user record</td>
                    <td><code>[('company_id', '=', user.company_id.id)]</code></td>
                </tr>
                <tr>
                    <td><code>company_id</code></td>
                    <td>Current company ID</td>
                    <td><code>[('company_id', '=', company_id)]</code></td>
                </tr>
                <tr>
                    <td><code>company_ids</code></td>
                    <td>All allowed company IDs</td>
                    <td><code>[('company_id', 'in', company_ids)]</code></td>
                </tr>
                <tr>
                    <td><code>context_today()</code></td>
                    <td>Today's date</td>
                    <td><code>[('date', '=', context_today())]</code></td>
                </tr>
                <tr>
                    <td><code>self</code></td>
                    <td>Current field value (in filter_domain)</td>
                    <td><code>[('categ_id', 'child_of', self)]</code></td>
                </tr>
                <tr>
                    <td><code>parent.field</code></td>
                    <td>Parent record's field value</td>
                    <td><code>[('partner_id', '=', parent.partner_id)]</code></td>
                </tr>
            </table>
        </div>

        <!-- ==================== SECTION 12: FIELD PROPERTIES ==================== -->
        <h2 id="properties">11. Field Properties</h2>

        <div class="technical-box">
            <h4>What Are Field Properties?</h4>
            <p>Properties are settings that control a field's behavior: Is it required? Can it be edited? What's the default value?</p>
        </div>

        <table>
            <tr>
                <th>Property</th>
                <th>Type</th>
                <th>What It Does</th>
                <th>Example Use</th>
            </tr>
            <tr>
                <td><strong>string</strong></td>
                <td>String</td>
                <td>Label shown to users</td>
                <td><code>string="Customer Name"</code></td>
            </tr>
            <tr>
                <td><strong>required</strong></td>
                <td>Boolean</td>
                <td>Must be filled before saving</td>
                <td><code>required=True</code></td>
            </tr>
            <tr>
                <td><strong>readonly</strong></td>
                <td>Boolean</td>
                <td>Cannot be edited by users</td>
                <td><code>readonly=True</code></td>
            </tr>
            <tr>
                <td><strong>default</strong></td>
                <td>Value/Function</td>
                <td>Initial value for new records</td>
                <td><code>default=lambda self: fields.Date.today()</code></td>
            </tr>
            <tr>
                <td><strong>help</strong></td>
                <td>String</td>
                <td>Tooltip text on hover</td>
                <td><code>help="Enter the full legal name"</code></td>
            </tr>
            <tr>
                <td><strong>index</strong></td>
                <td>Boolean/String</td>
                <td>Create database index for faster search</td>
                <td><code>index=True</code></td>
            </tr>
            <tr>
                <td><strong>copy</strong></td>
                <td>Boolean</td>
                <td>Include when duplicating record</td>
                <td><code>copy=False</code> for reference numbers</td>
            </tr>
            <tr>
                <td><strong>tracking</strong></td>
                <td>Boolean/Integer</td>
                <td>Log changes in chatter</td>
                <td><code>tracking=True</code></td>
            </tr>
            <tr>
                <td><strong>groups</strong></td>
                <td>String</td>
                <td>Restrict visibility to user groups</td>
                <td><code>groups="account.group_account_manager"</code></td>
            </tr>
            <tr>
                <td><strong>company_dependent</strong></td>
                <td>Boolean</td>
                <td>Different value per company</td>
                <td><code>company_dependent=True</code></td>
            </tr>
            <tr>
                <td><strong>translate</strong></td>
                <td>Boolean</td>
                <td>Can be translated to other languages</td>
                <td><code>translate=True</code></td>
            </tr>
        </table>

        <h3>ondelete for Many2one Fields</h3>

        <div class="mechanism-box">
            <h4>What Happens When Linked Record Is Deleted?</h4>
            <table>
                <tr>
                    <th>ondelete Value</th>
                    <th>Behavior</th>
                    <th>Use Case</th>
                </tr>
                <tr>
                    <td><code>'set null'</code></td>
                    <td>Set field to empty</td>
                    <td>Optional relationships (default)</td>
                </tr>
                <tr>
                    <td><code>'restrict'</code></td>
                    <td>Prevent deletion</td>
                    <td>Critical references (can't delete customer with orders)</td>
                </tr>
                <tr>
                    <td><code>'cascade'</code></td>
                    <td>Delete this record too</td>
                    <td>Child records (delete order lines with order)</td>
                </tr>
            </table>
        </div>

        <h3>Company-Dependent Fields (Multi-Company)</h3>

        <div class="critical-box">
            <h4>What Are Company-Dependent Fields?</h4>
            <p>In a multi-company environment, some field values need to be <strong>different for each company</strong>. For example, a product might have different costs, accounting configurations, or warehouse settings per company.</p>
        </div>

        <div class="analogy-box">
            <h4>Real-World Analogy</h4>
            <p>Think of a franchise business. The same product "Burger Meal" exists across all locations, but:</p>
            <ul>
                <li>The <strong>price</strong> might be different in each city</li>
                <li>The <strong>supplier</strong> might be different per region</li>
                <li>The <strong>tax rate</strong> varies by country</li>
            </ul>
            <p>Company-dependent fields solve exactly this - <strong>one record, multiple company-specific values</strong>.</p>
        </div>

        <div class="mechanism-box">
            <h4>How It Works Technically</h4>
            <p>When a field has <code>company_dependent=True</code>:</p>
            <ul>
                <li>The value is stored as <strong>JSONB</strong> in the database with company IDs as keys</li>
                <li>When you read the field, Odoo automatically returns the value for your <strong>current company</strong></li>
                <li>Fallback values can be set via <code>ir.default</code> (System Parameters)</li>
            </ul>
            <div class="code-block">
# Database storage example:
{"1": 100.00, "2": 95.50, "3": 110.00}
# Company 1 sees: 100.00
# Company 2 sees: 95.50
# Company 3 sees: 110.00</div>
        </div>

        <div class="success-box">
            <h4>Common Company-Dependent Fields in Odoo</h4>
            <table>
                <tr>
                    <th>Location</th>
                    <th>Field</th>
                    <th>Why Company-Dependent?</th>
                </tr>
                <tr>
                    <td>Product ‚Üí General Information</td>
                    <td>Cost (standard_price)</td>
                    <td>Each company may have different purchase costs for the same product</td>
                </tr>
                <tr>
                    <td>Product ‚Üí Accounting</td>
                    <td>Income Account / Expense Account</td>
                    <td>Each company has its own Chart of Accounts</td>
                </tr>
                <tr>
                    <td>Product ‚Üí Inventory</td>
                    <td>Stock Valuation Account</td>
                    <td>Inventory valuation accounts differ per company</td>
                </tr>
                <tr>
                    <td>Contact ‚Üí Sales & Purchase</td>
                    <td>Customer Payment Terms / Vendor Payment Terms</td>
                    <td>Different payment agreements per company</td>
                </tr>
                <tr>
                    <td>Contact ‚Üí Accounting</td>
                    <td>Account Receivable / Account Payable</td>
                    <td>Different receivable/payable accounts per Chart of Accounts</td>
                </tr>
                <tr>
                    <td>Contact ‚Üí Sales & Purchase</td>
                    <td>Fiscal Position</td>
                    <td>Tax rules vary by company/country</td>
                </tr>
                <tr>
                    <td>Contact ‚Üí Sales & Purchase</td>
                    <td>Pricelist</td>
                    <td>Different pricing strategies per company</td>
                </tr>
                <tr>
                    <td>User Preferences</td>
                    <td>Default Warehouse</td>
                    <td>Users work with different warehouses per company</td>
                </tr>
                <tr>
                    <td>Contact ‚Üí Purchase</td>
                    <td>Delivery Method</td>
                    <td>Shipping carriers vary per company location</td>
                </tr>
            </table>
        </div>

        <div class="warning-box">
            <h4>Important for Functional Consultants</h4>
            <ul>
                <li><strong>Always check your current company</strong> when configuring these fields</li>
                <li>If a field shows different values when switching companies, it's likely company-dependent</li>
                <li>Use <strong>Developer Mode</strong> ‚Üí hover over field ‚Üí check for "company_dependent" in technical info</li>
                <li>When importing data, make sure you're in the correct company context</li>
            </ul>
        </div>

        <h3>Properties Field (Dynamic Custom Fields)</h3>

        <div class="critical-box">
            <h4>What Is the Properties Field?</h4>
            <p>The <strong>Properties</strong> field type (added in Odoo 16/17) lets you create <strong>dynamic custom fields on the fly</strong> without modifying the database structure. Think of it as flexible "extra attributes" that can be different for each parent record.</p>
        </div>

        <div class="analogy-box">
            <h4>Real-World Analogy</h4>
            <p>Imagine a Project Management system:</p>
            <ul>
                <li><strong>Project A (Website Redesign)</strong> needs fields: "Design Tool", "Browser Compatibility", "Mobile First?"</li>
                <li><strong>Project B (Office Move)</strong> needs fields: "Moving Company", "Insurance Policy", "Floor Plan Approved?"</li>
            </ul>
            <p>With Properties, each project can have <strong>its own custom fields</strong> for tasks, without creating hundreds of unused fields in the database!</p>
        </div>

        <div class="mechanism-box">
            <h4>How Properties Work</h4>
            <div class="diagram">
                <div class="diagram-box" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                    <strong>Container Record</strong><br>
                    (e.g., Project)<br>
                    <small>Defines the property structure</small>
                </div>
                <div class="arrow">‚Üí</div>
                <div class="diagram-box" style="background: linear-gradient(135deg, #11998e, #38ef7d); color: white;">
                    <strong>Child Records</strong><br>
                    (e.g., Tasks)<br>
                    <small>Store only the values</small>
                </div>
            </div>
            <p style="margin-top: 15px;"><strong>Key Concept:</strong> The property <em>definition</em> (field names, types) is stored on the parent. The property <em>values</em> are stored on each child as JSON.</p>
        </div>

        <div class="technical-box">
            <h4>Supported Property Types</h4>
            <table>
                <tr>
                    <th>Type</th>
                    <th>Description</th>
                    <th>Example Use</th>
                </tr>
                <tr>
                    <td><code>char</code></td>
                    <td>Short text</td>
                    <td>Version number, code name</td>
                </tr>
                <tr>
                    <td><code>text</code></td>
                    <td>Long text</td>
                    <td>Detailed notes</td>
                </tr>
                <tr>
                    <td><code>html</code></td>
                    <td>Rich text (HTML)</td>
                    <td>Formatted descriptions, instructions</td>
                </tr>
                <tr>
                    <td><code>integer</code></td>
                    <td>Whole number</td>
                    <td>Priority score, count</td>
                </tr>
                <tr>
                    <td><code>float</code></td>
                    <td>Decimal number</td>
                    <td>Percentage, rating</td>
                </tr>
                <tr>
                    <td><code>boolean</code></td>
                    <td>Yes/No checkbox</td>
                    <td>Is approved?, Is urgent?</td>
                </tr>
                <tr>
                    <td><code>date</code></td>
                    <td>Date picker</td>
                    <td>Target date, review date</td>
                </tr>
                <tr>
                    <td><code>datetime</code></td>
                    <td>Date and time</td>
                    <td>Meeting time, deadline</td>
                </tr>
                <tr>
                    <td><code>selection</code></td>
                    <td>Dropdown options</td>
                    <td>Status, category</td>
                </tr>
                <tr>
                    <td><code>tags</code></td>
                    <td>Multiple tags</td>
                    <td>Labels, skills required</td>
                </tr>
                <tr>
                    <td><code>many2one</code></td>
                    <td>Link to another record</td>
                    <td>Assigned vendor, related contact</td>
                </tr>
                <tr>
                    <td><code>many2many</code></td>
                    <td>Multiple links</td>
                    <td>Related documents, team members</td>
                </tr>
                <tr>
                    <td><code>monetary</code></td>
                    <td>Currency amount</td>
                    <td>Budget, estimated cost</td>
                </tr>
                <tr>
                    <td><code>separator</code></td>
                    <td>Visual divider</td>
                    <td>Grouping properties visually</td>
                </tr>
            </table>
        </div>

        <div class="success-box">
            <h4>Where You'll Find Properties in Standard Odoo</h4>
            <ul>
                <li><strong>Project Tasks</strong> - Each project can define custom properties for its tasks</li>
                <li><strong>CRM Leads</strong> - Different sales teams can have different lead attributes</li>
                <li><strong>Helpdesk Tickets</strong> - Each helpdesk team can customize ticket fields</li>
            </ul>
        </div>

        <div class="info-box">
            <h4>Properties vs Traditional Custom Fields</h4>
            <table>
                <tr>
                    <th>Aspect</th>
                    <th>Properties Field</th>
                    <th>Traditional Custom Field</th>
                </tr>
                <tr>
                    <td><strong>Database Impact</strong></td>
                    <td>No schema change (stored as JSON)</td>
                    <td>Adds column to table</td>
                </tr>
                <tr>
                    <td><strong>Flexibility</strong></td>
                    <td>Different fields per parent record</td>
                    <td>Same fields for all records</td>
                </tr>
                <tr>
                    <td><strong>Search/Filter</strong></td>
                    <td>Supported (with some limitations)</td>
                    <td>Full support</td>
                </tr>
                <tr>
                    <td><strong>Reporting</strong></td>
                    <td>Limited in standard reports</td>
                    <td>Full reporting support</td>
                </tr>
                <tr>
                    <td><strong>Best For</strong></td>
                    <td>Flexible, per-parent customization</td>
                    <td>Consistent fields across all records</td>
                </tr>
            </table>
        </div>

        <div class="warning-box">
            <h4>When to Use What?</h4>
            <ul>
                <li><strong>Use Properties</strong> when different parent records need different "child attributes" (e.g., different projects need different task fields)</li>
                <li><strong>Use Traditional Fields</strong> when ALL records need the same field (e.g., all products need a "brand" field)</li>
                <li><strong>Use Studio</strong> (Enterprise) for quick custom fields without code when Properties isn't suitable</li>
            </ul>
        </div>

        <!-- ==================== SECTION 13: ACCESS RIGHTS ==================== -->
        <h2 id="access">12. Access Rights & Record Rules</h2>

        <div class="critical-box">
            <h4>Security in Odoo: Two Levels</h4>
            <ol>
                <li><strong>Access Rights (ir.model.access)</strong> - Can this user group access this model at all?</li>
                <li><strong>Record Rules (ir.rule)</strong> - Which specific records can they see/edit?</li>
            </ol>
        </div>

        <h3>Access Rights - Model Level</h3>

        <div class="mechanism-box">
            <h4>The Four Permissions: CRUD</h4>
            <table>
                <tr>
                    <th>Permission</th>
                    <th>Letter</th>
                    <th>What It Allows</th>
                </tr>
                <tr>
                    <td><strong>Create</strong></td>
                    <td>C</td>
                    <td>Create new records</td>
                </tr>
                <tr>
                    <td><strong>Read</strong></td>
                    <td>R</td>
                    <td>View existing records</td>
                </tr>
                <tr>
                    <td><strong>Update</strong></td>
                    <td>U</td>
                    <td>Edit existing records</td>
                </tr>
                <tr>
                    <td><strong>Delete</strong></td>
                    <td>D</td>
                    <td>Delete records</td>
                </tr>
            </table>
        </div>

        <div class="analogy-box">
            <h4>Example: Sales Module Access</h4>
            <table>
                <tr>
                    <th>Group</th>
                    <th>Model</th>
                    <th>C</th>
                    <th>R</th>
                    <th>U</th>
                    <th>D</th>
                </tr>
                <tr>
                    <td>Sales / User</td>
                    <td>sale.order</td>
                    <td>Yes</td>
                    <td>Yes</td>
                    <td>Yes</td>
                    <td>No</td>
                </tr>
                <tr>
                    <td>Sales / Manager</td>
                    <td>sale.order</td>
                    <td>Yes</td>
                    <td>Yes</td>
                    <td>Yes</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td>Sales / User</td>
                    <td>sale.report</td>
                    <td>No</td>
                    <td>Yes</td>
                    <td>No</td>
                    <td>No</td>
                </tr>
            </table>
        </div>

        <h3>Record Rules - Record Level</h3>

        <div class="mechanism-box">
            <h4>What Record Rules Do</h4>
            <p>Record rules use <strong>domains</strong> to filter which specific records a user can access.</p>
            <p><strong>Example:</strong> "Sales users can only see orders assigned to them"</p>
            <p><strong>Domain:</strong> <code>[('user_id', '=', user.id)]</code></p>
        </div>

        <div class="success-box">
            <h4>Common Record Rule Patterns</h4>
            <table>
                <tr>
                    <th>Rule Name</th>
                    <th>Domain</th>
                    <th>Effect</th>
                </tr>
                <tr>
                    <td>Own records only</td>
                    <td><code>[('user_id', '=', user.id)]</code></td>
                    <td>See only records you created/own</td>
                </tr>
                <tr>
                    <td>Same company</td>
                    <td><code>[('company_id', 'in', company_ids)]</code></td>
                    <td>See only your company's data</td>
                </tr>
                <tr>
                    <td>Team members</td>
                    <td><code>[('team_id', '=', user.sale_team_id.id)]</code></td>
                    <td>See team's records</td>
                </tr>
                <tr>
                    <td>Public records</td>
                    <td><code>[('public', '=', True)]</code></td>
                    <td>See only public records</td>
                </tr>
            </table>
        </div>

        <div class="warning-box">
            <h4>Common Security Issue</h4>
            <p>If a user can't see records they should see:</p>
            <ol>
                <li>Check their user groups (Settings > Users > Groups tab)</li>
                <li>Check model access rights (Settings > Technical > Security > Access Rights)</li>
                <li>Check record rules (Settings > Technical > Security > Record Rules)</li>
            </ol>
        </div>

        <!-- ==================== SECTION 14: WORKFLOWS ==================== -->
        <h2 id="workflows">13. Workflows & Status Management</h2>

        <div class="technical-box">
            <h4>How Odoo Manages Document States</h4>
            <p>Most business documents in Odoo follow a <strong>state machine</strong> pattern:</p>
            <ul>
                <li>A <code>state</code> Selection field tracks the current status</li>
                <li>Buttons trigger state changes</li>
                <li>Business logic runs on transitions</li>
            </ul>
        </div>

        <h3>Example: Sales Order Workflow</h3>

        <div class="diagram">
            <div style="display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 10px;">
                <div class="diagram-box" style="background: #94a3b8;">Draft</div>
                <span class="arrow">‚Üí</span>
                <div class="diagram-box" style="background: #38bdf8;">Sent</div>
                <span class="arrow">‚Üí</span>
                <div class="diagram-box" style="background: #4ade80;">Sale</div>
                <span class="arrow">‚Üí</span>
                <div class="diagram-box" style="background: #a78bfa;">Done</div>
            </div>
            <div style="margin-top: 20px;">
                <div class="diagram-box" style="background: #f87171;">Cancelled</div>
                <p style="font-size: 14px; margin-top: 10px;">(Can cancel from Draft, Sent, or Sale)</p>
            </div>
        </div>

        <table>
            <tr>
                <th>State</th>
                <th>Key (stored)</th>
                <th>What Can Happen</th>
            </tr>
            <tr>
                <td>Quotation</td>
                <td>'draft'</td>
                <td>Edit freely, Send to customer, Confirm, Cancel</td>
            </tr>
            <tr>
                <td>Quotation Sent</td>
                <td>'sent'</td>
                <td>Customer reviewing, Confirm, Cancel</td>
            </tr>
            <tr>
                <td>Sales Order</td>
                <td>'sale'</td>
                <td>Confirmed, Creates delivery & invoice</td>
            </tr>
            <tr>
                <td>Locked</td>
                <td>'done'</td>
                <td>Completed, no changes</td>
            </tr>
            <tr>
                <td>Cancelled</td>
                <td>'cancel'</td>
                <td>Voided, can set back to draft</td>
            </tr>
        </table>

        <h3>The Statusbar Widget</h3>

        <div class="mechanism-box">
            <h4>Visual State Indicator</h4>
            <p>The statusbar widget shows the workflow visually at the top of forms:</p>
            <ul>
                <li>Shows all possible states</li>
                <li>Highlights current state</li>
                <li>Users can click to jump to states (if allowed)</li>
                <li>Can be configured to show only certain states</li>
            </ul>
        </div>

        <!-- ==================== SECTION 14: ACTIONS ==================== -->
        <h2 id="actions">14. Actions: Automation in Odoo</h2>

        <div class="odoo-box">
            <h4>Three Types of Actions</h4>
            <p>Odoo provides three powerful tools for automation, each serving a different purpose:</p>
            <ul>
                <li><strong>Server Actions</strong> - Manual actions you trigger from UI (e.g., "Send Email", "Export Data")</li>
                <li><strong>Scheduled Actions</strong> - Time-based recurring tasks (e.g., "Send reminder emails every morning")</li>
                <li><strong>Automated Actions</strong> - Event-driven rules (e.g., "When lead is won, create project")</li>
            </ul>
            <p>All three are accessible from Settings > Technical menu and can be configured without writing Python code (though code is an option for advanced users).</p>
        </div>

        <!-- SERVER ACTIONS -->
        <h3>Server Actions (ir.actions.server)</h3>

        <div class="technical-box">
            <h4>What Are Server Actions?</h4>
            <p>Server Actions are <strong>manual actions</strong> that users trigger from the UI. They appear in the "Actions" menu or can be added as buttons.</p>
            <p><strong>Location:</strong> Settings > Technical > Actions > Server Actions</p>
            <p><strong>Common use cases:</strong> Bulk updates, sending emails, exporting data, custom workflows</p>
        </div>

        <h4>Action Types Available</h4>

        <table>
            <tr>
                <th>Action Type</th>
                <th>What It Does</th>
                <th>Example Use Case</th>
            </tr>
            <tr>
                <td><strong>Update Record</strong></td>
                <td>Modify field values on one or more records</td>
                <td>Bulk assign salesperson, Mark tasks as complete</td>
            </tr>
            <tr>
                <td><strong>Create Record</strong></td>
                <td>Create a new record with predefined values</td>
                <td>Create task from lead, Generate invoice from order</td>
            </tr>
            <tr>
                <td><strong>Execute Code</strong></td>
                <td>Run custom Python code (requires technical group)</td>
                <td>Complex calculations, Custom integrations</td>
            </tr>
            <tr>
                <td><strong>Send Webhook</strong></td>
                <td>POST data to external URL</td>
                <td>Notify external system, Trigger third-party automation</td>
            </tr>
            <tr>
                <td><strong>Multi Actions</strong></td>
                <td>Execute multiple actions in sequence</td>
                <td>Update record, send email, create task - all at once</td>
            </tr>
        </table>

        <div class="example-box">
            <h4>Example: Mark Leads as High Priority</h4>
            <p><strong>Scenario:</strong> Sales manager wants a quick action to mark selected leads as high priority for immediate follow-up.</p>
            <p><strong>Steps:</strong></p>
            <ol>
                <li>Go to Settings > Technical > Actions > Server Actions</li>
                <li>Click Create</li>
                <li>Set <strong>Name:</strong> "Mark as High Priority"</li>
                <li>Set <strong>Model:</strong> CRM Lead (crm.lead)</li>
                <li>Set <strong>Action Type:</strong> Update Record</li>
                <li>Set <strong>Field to Update:</strong> Priority (priority)</li>
                <li>Set <strong>Value:</strong> Select "3" (High)</li>
                <li>Click "Create Contextual Action" to add it to the Actions menu</li>
            </ol>
            <p><strong>Usage:</strong> Select leads requiring urgent attention from list view, go to Actions menu, click "Mark as High Priority"</p>
        </div>

        <div class="example-box">
            <h4>Example: Sync Won Opportunities to Accounting System</h4>
            <p><strong>Scenario:</strong> Company uses separate accounting software and needs to sync won opportunities for invoice preparation.</p>
            <p><strong>Steps:</strong></p>
            <ol>
                <li>Create Server Action on CRM Lead model</li>
                <li>Set <strong>Action Type:</strong> Send Webhook Notification</li>
                <li>Set <strong>Webhook URL:</strong> https://accounting.yourcompany.com/api/opportunities</li>
                <li>Select <strong>Fields to Send:</strong> Name, Partner Name, Expected Revenue, Stage, Date Closed</li>
                <li>The webhook will send JSON payload with selected fields plus _id, _model, and _name</li>
            </ol>
            <p><strong>Payload example:</strong> <code>{"_id": 42, "_model": "crm.lead", "_name": "Sync Won Opportunities", "name": "Website Redesign Project", "partner_name": "TechCorp Solutions", "expected_revenue": 250000}</code></p>
        </div>

        <!-- SCHEDULED ACTIONS -->
        <h3>Scheduled Actions (ir.cron)</h3>

        <div class="technical-box">
            <h4>What Are Scheduled Actions?</h4>
            <p>Scheduled Actions (also called Cron Jobs) are <strong>time-based recurring tasks</strong> that run automatically in the background.</p>
            <p><strong>Location:</strong> Settings > Technical > Automation > Scheduled Actions</p>
            <p><strong>Common use cases:</strong> Daily reports, reminder emails, data cleanup, periodic synchronization</p>
        </div>

        <h4>Scheduling Options</h4>

        <table>
            <tr>
                <th>Interval Type</th>
                <th>Example Settings</th>
                <th>When It Runs</th>
            </tr>
            <tr>
                <td><strong>Minutes</strong></td>
                <td>Every 15 minutes</td>
                <td>High-frequency monitoring tasks</td>
            </tr>
            <tr>
                <td><strong>Hours</strong></td>
                <td>Every 2 hours</td>
                <td>Regular sync jobs</td>
            </tr>
            <tr>
                <td><strong>Days</strong></td>
                <td>Every 1 day at 9:00 AM</td>
                <td>Daily reports, reminders</td>
            </tr>
            <tr>
                <td><strong>Weeks</strong></td>
                <td>Every 1 week (Monday)</td>
                <td>Weekly summaries</td>
            </tr>
            <tr>
                <td><strong>Months</strong></td>
                <td>Every 1 month</td>
                <td>Monthly reports, billing</td>
            </tr>
        </table>

        <div class="example-box">
            <h4>Example: Weekly Sales Pipeline Report</h4>
            <p><strong>Scenario:</strong> Sales manager needs a weekly summary of all open opportunities sent every Monday morning.</p>
            <p><strong>Steps:</strong></p>
            <ol>
                <li>Go to Settings > Technical > Automation > Scheduled Actions</li>
                <li>Click Create</li>
                <li>Set <strong>Name:</strong> "Weekly Sales Pipeline Summary"</li>
                <li>Set <strong>Model:</strong> CRM Lead (crm.lead)</li>
                <li>Set <strong>Interval Number:</strong> 1</li>
                <li>Set <strong>Interval Type:</strong> Weeks</li>
                <li>Set <strong>Next Execution Date:</strong> Next Monday at 9:00 AM</li>
                <li>Set <strong>Action Type:</strong> Execute Code</li>
                <li>Write code to search opportunities in "Qualified" or "Proposition" stages and send summary email</li>
            </ol>
            <p><strong>Why use Scheduled Action:</strong> You need custom logic to aggregate data and format a report email - better suited for code than UI configuration.</p>
        </div>

        <div class="mechanism-box">
            <h4>How Scheduled Actions Work</h4>
            <ul>
                <li><strong>Execution:</strong> Runs in background worker thread (not in user session)</li>
                <li><strong>User Context:</strong> Runs as the "Scheduler User" specified in the cron config</li>
                <li><strong>Next Call:</strong> Automatically calculated based on interval after each run</li>
                <li><strong>Failure Handling:</strong> After 5+ consecutive failures over 7+ days, cron auto-deactivates</li>
                <li><strong>Manual Trigger:</strong> Use "Run Manually" button to test immediately</li>
                <li><strong>Monitoring:</strong> Check Last Execution Date and failure counter in the cron record</li>
            </ul>
        </div>

        <div class="warning-box">
            <h4>Scheduled Actions Best Practices</h4>
            <ul>
                <li><strong>Don't over-schedule:</strong> Avoid running tasks more frequently than needed (wastes resources)</li>
                <li><strong>Use batch processing:</strong> Process multiple records per run instead of one at a time</li>
                <li><strong>Set appropriate user:</strong> Ensure Scheduler User has necessary permissions</li>
                <li><strong>Test first:</strong> Use "Run Manually" to test before setting to automatic</li>
                <li><strong>Monitor failures:</strong> Check failure count regularly; investigate if growing</li>
                <li><strong>Consider timezone:</strong> Next Execution Date is in UTC; plan accordingly</li>
            </ul>
        </div>

        <!-- AUTOMATED ACTIONS -->
        <h3>Automated Actions (base.automation)</h3>

        <div class="technical-box">
            <h4>What Are Automated Actions?</h4>
            <p>Automated Actions (also called Automation Rules) are <strong>event-driven rules</strong> that trigger automatically when specific conditions are met.</p>
            <p><strong>Location:</strong> Settings > Technical > Automation > Automated Actions</p>
            <p><strong>Common use cases:</strong> Auto-assign records, send notifications, create follow-up tasks, workflow automation</p>
        </div>

        <h4>Trigger Types</h4>

        <table>
            <tr>
                <th>Trigger</th>
                <th>When It Runs</th>
                <th>Example Use Case</th>
            </tr>
            <tr>
                <td><strong>On Create</strong></td>
                <td>When new record is created</td>
                <td>Assign new leads to salesperson, Send welcome email</td>
            </tr>
            <tr>
                <td><strong>On Update</strong></td>
                <td>When record is modified</td>
                <td>Log changes, Notify manager of updates</td>
            </tr>
            <tr>
                <td><strong>On Create and Edit</strong></td>
                <td>Both creation and updates</td>
                <td>Validate data, Auto-fill related fields</td>
            </tr>
            <tr>
                <td><strong>On Deletion</strong></td>
                <td>Before record is deleted</td>
                <td>Archive instead of delete, Send notification</td>
            </tr>
            <tr>
                <td><strong>Stage is set to</strong></td>
                <td>When specific stage is reached</td>
                <td>When lead is "Qualified", create opportunity</td>
            </tr>
            <tr>
                <td><strong>User is set</strong></td>
                <td>When responsible user is assigned</td>
                <td>Send notification to newly assigned user</td>
            </tr>
            <tr>
                <td><strong>Tag is added</strong></td>
                <td>When specific tag is added</td>
                <td>When "urgent" tag added, notify manager</td>
            </tr>
            <tr>
                <td><strong>State is set to</strong></td>
                <td>When state field changes to value</td>
                <td>When order is "confirmed", create invoice</td>
            </tr>
            <tr>
                <td><strong>Priority is set to</strong></td>
                <td>When priority changes</td>
                <td>When priority is "High", escalate to manager</td>
            </tr>
            <tr>
                <td><strong>On archived/unarchived</strong></td>
                <td>When active field changes</td>
                <td>Log archival, Clean up related records</td>
            </tr>
            <tr>
                <td><strong>Based on date field</strong></td>
                <td>X days before/after a date field</td>
                <td>Send reminder 3 days before deadline</td>
            </tr>
            <tr>
                <td><strong>After creation</strong></td>
                <td>X time after record created</td>
                <td>Send follow-up email 7 days after lead creation</td>
            </tr>
            <tr>
                <td><strong>After last update</strong></td>
                <td>X time after last modification</td>
                <td>Archive inactive leads after 90 days of no updates</td>
            </tr>
            <tr>
                <td><strong>On incoming message</strong></td>
                <td>When email/message received</td>
                <td>Auto-reply to customer emails</td>
            </tr>
            <tr>
                <td><strong>On outgoing message</strong></td>
                <td>When message is sent</td>
                <td>Log communication, Update status</td>
            </tr>
            <tr>
                <td><strong>On webhook</strong></td>
                <td>When external HTTP request received</td>
                <td>Receive data from third-party system</td>
            </tr>
        </table>

        <div class="example-box">
            <h4>Example: Auto-Assign Leads to Sales Team</h4>
            <p><strong>Scenario:</strong> Manufacturing company wants leads from Maharashtra automatically assigned to Pune sales team, and from Karnataka to Bangalore team.</p>
            <p><strong>Steps:</strong></p>
            <ol>
                <li>Go to Settings > Technical > Automation > Automated Actions</li>
                <li>Click Create</li>
                <li>Set <strong>Automation Rule Name:</strong> "Assign Maharashtra Leads to Pune Team"</li>
                <li>Set <strong>Model:</strong> CRM Lead (crm.lead)</li>
                <li>Set <strong>Trigger:</strong> On Create</li>
                <li>Set <strong>Apply on:</strong> <code>[('state_id.name', '=', 'Maharashtra')]</code></li>
                <li>In <strong>Actions</strong> tab, click Add a line</li>
                <li>Create Server Action: Update Record > Sales Team = "Pune Regional Sales"</li>
                <li>Save and activate</li>
            </ol>
            <p><strong>Result:</strong> Every time a lead is created from Maharashtra, it's automatically assigned to the Pune regional sales team.</p>
        </div>

        <div class="example-box">
            <h4>Example: Escalate Unattended Support Tickets</h4>
            <p><strong>Scenario:</strong> Helpdesk tickets created but not assigned to anyone within 2 hours should be escalated to team lead.</p>
            <p><strong>Steps:</strong></p>
            <ol>
                <li>Create Automated Action on Helpdesk Ticket model</li>
                <li>Set <strong>Trigger:</strong> After creation</li>
                <li>Set <strong>Delay:</strong> 2 Hours</li>
                <li>Set <strong>Apply on:</strong> <code>[('user_id', '=', False)]</code> (no one assigned)</li>
                <li>In Actions tab, add Server Action: Update Record > Assigned to = "Team Lead"</li>
                <li>Also add action to send notification email</li>
            </ol>
            <p><strong>How it works:</strong> Odoo's base automation cron (runs hourly by default) checks all tickets created 2+ hours ago that still have no assignee, then applies the action.</p>
            <p><strong>Note:</strong> Time-based Automated Actions are evaluated by a cron, but you configure them as business rules, not as code.</p>
        </div>

        <div class="example-box">
            <h4>Example: Create Implementation Project for Enterprise Deals</h4>
            <p><strong>Scenario:</strong> Software company wants to automatically create an implementation project whenever an Enterprise plan subscription is confirmed.</p>
            <p><strong>Steps:</strong></p>
            <ol>
                <li>Create Automated Action on Sale Order model</li>
                <li>Set <strong>Trigger:</strong> State is set to</li>
                <li>Set <strong>Trigger Field:</strong> "sale" (confirmed state)</li>
                <li>Set <strong>Apply on:</strong> <code>[('product_id.name', 'ilike', 'Enterprise')]</code></li>
                <li>In Actions tab, add Server Action: Create Record</li>
                <li>Set <strong>Record to Create:</strong> Project (project.project)</li>
                <li>Map fields: Name = "Implementation - " + Customer Name, Partner = SO Partner, User = SO Salesperson</li>
            </ol>
            <p><strong>Result:</strong> When Enterprise subscription order is confirmed, implementation project is auto-created with customer details and assigned to the salesperson.</p>
        </div>

        <div class="mechanism-box">
            <h4>How Automated Actions Work</h4>
            <ul>
                <li><strong>Real-time triggers:</strong> On Create, On Update, Stage/User/Tag changes run immediately during save</li>
                <li><strong>Time-based triggers:</strong> Date-based and After creation/update checked by scheduled cron (hourly by default)</li>
                <li><strong>Filter evaluation:</strong> "Apply on" domain and "Before Update Domain" evaluated against record</li>
                <li><strong>Trigger fields:</strong> Optionally specify which fields trigger the rule (on update only)</li>
                <li><strong>Action sequence:</strong> Multiple server actions execute in order specified</li>
                <li><strong>Execution context:</strong> Runs in the context of the user who triggered the event (for real-time) or SUPERUSER (for time-based)</li>
            </ul>
        </div>

        <div class="technical-box">
            <h4>Important: Time-based Automated Actions vs Scheduled Actions</h4>
            <p><strong>Confusion Alert:</strong> Time-based Automated Actions ARE executed by a cron, but they're configured differently:</p>
            <table>
                <tr>
                    <th>Aspect</th>
                    <th>Scheduled Action (ir.cron)</th>
                    <th>Time-based Automated Action</th>
                </tr>
                <tr>
                    <td><strong>Configuration</strong></td>
                    <td>You define WHAT code runs and WHEN</td>
                    <td>You define BUSINESS RULE in UI</td>
                </tr>
                <tr>
                    <td><strong>Processing</strong></td>
                    <td>Runs your code, you handle logic</td>
                    <td>System finds matching records, applies action</td>
                </tr>
                <tr>
                    <td><strong>Example</strong></td>
                    <td>"Run this Python code every Monday at 9 AM"</td>
                    <td>"2 hours after ticket creation, if unassigned, escalate"</td>
                </tr>
                <tr>
                    <td><strong>When to use</strong></td>
                    <td>Complex logic, aggregations, custom reports</td>
                    <td>Simple business rules configurable in UI</td>
                </tr>
            </table>
            <p><strong>Behind the scenes:</strong> A cron named "Base Automation: check model" runs every hour and evaluates all time-based automation rules.</p>
        </div>

        <div class="warning-box">
            <h4>Automated Actions Best Practices</h4>
            <ul>
                <li><strong>Use precise domains:</strong> Don't trigger on all records; filter to only relevant ones</li>
                <li><strong>Avoid infinite loops:</strong> Be careful when automation updates fields that trigger other automations</li>
                <li><strong>Specify trigger fields:</strong> For "On Update", list specific fields to avoid unnecessary triggers</li>
                <li><strong>Test thoroughly:</strong> Use test records to verify automation works as expected</li>
                <li><strong>Keep it simple:</strong> Complex logic is better in custom code than chained automations</li>
                <li><strong>Document your rules:</strong> Use Description field to explain purpose and logic</li>
                <li><strong>Monitor performance:</strong> Too many automation rules can slow down saves</li>
            </ul>
        </div>

        <h4>Comparing the Three Action Types</h4>

        <table>
            <tr>
                <th>Feature</th>
                <th>Server Actions</th>
                <th>Scheduled Actions</th>
                <th>Automated Actions</th>
            </tr>
            <tr>
                <td><strong>Trigger</strong></td>
                <td>Manual (user clicks)</td>
                <td>Time-based (recurring)</td>
                <td>Event-driven (automatic)</td>
            </tr>
            <tr>
                <td><strong>When to use</strong></td>
                <td>User needs control over when action runs</td>
                <td>Regular maintenance, reports, cleanups</td>
                <td>Respond to data changes immediately</td>
            </tr>
            <tr>
                <td><strong>Runs on</strong></td>
                <td>Selected records</td>
                <td>All matching records (batch)</td>
                <td>Individual record (on trigger)</td>
            </tr>
            <tr>
                <td><strong>User context</strong></td>
                <td>Current user</td>
                <td>Scheduler user</td>
                <td>User who triggered event</td>
            </tr>
            <tr>
                <td><strong>Visibility</strong></td>
                <td>Actions menu, buttons</td>
                <td>Background (invisible to users)</td>
                <td>Background (invisible to users)</td>
            </tr>
            <tr>
                <td><strong>Performance impact</strong></td>
                <td>Only when manually run</td>
                <td>Periodic (controllable)</td>
                <td>Every matching record change</td>
            </tr>
        </table>

        <div class="success-box">
            <h4>Choosing the Right Action Type</h4>
            <p><strong>Use Server Actions when:</strong></p>
            <ul>
                <li>Users need to decide when to run the action</li>
                <li>Action should work on multiple selected records</li>
                <li>Action is not something that should happen automatically</li>
            </ul>
            <p><strong>Use Scheduled Actions when:</strong></p>
            <ul>
                <li>Task needs to run at specific time intervals</li>
                <li>Processing data in batches is more efficient</li>
                <li>Action is maintenance-related (cleanup, sync, reports)</li>
            </ul>
            <p><strong>Use Automated Actions when:</strong></p>
            <ul>
                <li>Response to changes should be immediate</li>
                <li>Business rule should apply consistently to all records</li>
                <li>Workflow needs to progress automatically</li>
            </ul>
        </div>

        <!-- ==================== SECTION 15: STUDIO ==================== -->
        <h2 id="studio">15. Odoo Studio Basics <span class="badge badge-enterprise">Enterprise</span></h2>

        <div class="odoo-box">
            <h4>What Is Odoo Studio?</h4>
            <p>Odoo Studio is a <strong>no-code customization tool</strong>. With it you can:</p>
            <ul>
                <li>Add new fields to existing models</li>
                <li>Create new models (apps)</li>
                <li>Modify views (forms, lists, etc.)</li>
                <li>Create automated actions</li>
                <li>Build reports</li>
                <li>Add approval workflows</li>
            </ul>
            <p><strong>Available in:</strong> Odoo Enterprise only</p>
        </div>

        <h3>What You Can Do in Studio</h3>

        <table>
            <tr>
                <th>Task</th>
                <th>Studio Capability</th>
                <th>Limitation</th>
            </tr>
            <tr>
                <td>Add new field</td>
                <td>All basic types, relations</td>
                <td>Complex computed fields need code</td>
            </tr>
            <tr>
                <td>Rearrange form</td>
                <td>Drag and drop fields</td>
                <td>Some structural changes limited</td>
            </tr>
            <tr>
                <td>Add new app</td>
                <td>Full model creation</td>
                <td>Complex logic needs development</td>
            </tr>
            <tr>
                <td>Create report</td>
                <td>PDF reports with templates</td>
                <td>Advanced formatting may need code</td>
            </tr>
            <tr>
                <td>Automated actions</td>
                <td>Email, update fields, webhooks</td>
                <td>Complex conditions need code</td>
            </tr>
        </table>

        <div class="warning-box">
            <h4>Studio Tips</h4>
            <ul>
                <li><strong>Document everything</strong> - Keep a log of Studio changes</li>
                <li><strong>Test in staging first</strong> - Don't experiment in production</li>
                <li><strong>Export customizations</strong> - Back up your Studio changes</li>
                <li><strong>Know the limits</strong> - Complex logic should be custom developed</li>
            </ul>
        </div>

        <!-- ==================== SECTION 16: PERFORMANCE ==================== -->
        <h2 id="performance">16. Performance Considerations</h2>

        <div class="technical-box">
            <h4>Why Performance Matters</h4>
            <p>As your Odoo database grows, poor design choices become obvious:</p>
            <ul>
                <li>Slow page loads</li>
                <li>Reports that timeout</li>
                <li>Searches that take forever</li>
            </ul>
        </div>

        <h3>Key Performance Factors</h3>

        <table>
            <tr>
                <th>Factor</th>
                <th>Impact</th>
                <th>Solution</th>
            </tr>
            <tr>
                <td><strong>Non-stored computed fields</strong></td>
                <td>Calculated every page load</td>
                <td>Store if used in lists/reports</td>
            </tr>
            <tr>
                <td><strong>Non-stored related fields</strong></td>
                <td>N+1 query problem in lists</td>
                <td>Store if shown in list views</td>
            </tr>
            <tr>
                <td><strong>Missing indexes</strong></td>
                <td>Slow searches and filters</td>
                <td>Add index=True to frequently searched fields</td>
            </tr>
            <tr>
                <td><strong>Large One2many lists</strong></td>
                <td>Slow form loading</td>
                <td>Paginate or load on demand</td>
            </tr>
            <tr>
                <td><strong>Complex domains</strong></td>
                <td>Slow record rule evaluation</td>
                <td>Simplify or cache results</td>
            </tr>
            <tr>
                <td><strong>Too many automated actions</strong></td>
                <td>Slow saves</td>
                <td>Consolidate or use scheduled actions</td>
            </tr>
        </table>

        <div class="success-box">
            <h4>Performance Checklist for Consultants</h4>
            <ul>
                <li>Fields shown in list views should be stored</li>
                <li>Fields used in filters/group by must be stored</li>
                <li>Frequently searched fields should have indexes</li>
                <li>Avoid showing large One2many fields in list views</li>
                <li>Use pagination for reports with many records</li>
            </ul>
        </div>

        <h3>Record Rules vs Domains - When to Use What</h3>

        <div class="critical-box">
            <h4>Understanding the Difference</h4>
            <p><strong>Record Rules</strong> = Security filtering (WHO can see WHAT records)</p>
            <p><strong>Domains</strong> = Business filtering (WHICH records to display in a specific context)</p>
        </div>

        <div class="comparison-grid">
            <div class="comparison-card">
                <h4>Record Rules (ir.rule)</h4>
                <ul>
                    <li><strong>Purpose:</strong> Security/Access Control</li>
                    <li><strong>Applied:</strong> Automatically on ALL operations</li>
                    <li><strong>Scope:</strong> Global - affects entire system</li>
                    <li><strong>User control:</strong> Cannot be bypassed by users</li>
                    <li><strong>Performance:</strong> Evaluated on EVERY read/write</li>
                    <li><strong>Visibility:</strong> Hidden from users</li>
                </ul>
            </div>
            <div class="comparison-card">
                <h4>Domains (on fields/views)</h4>
                <ul>
                    <li><strong>Purpose:</strong> Filter/UX convenience</li>
                    <li><strong>Applied:</strong> Only in specific context</li>
                    <li><strong>Scope:</strong> Local - affects only that view/field</li>
                    <li><strong>User control:</strong> Users can clear/modify filters</li>
                    <li><strong>Performance:</strong> Evaluated only when needed</li>
                    <li><strong>Visibility:</strong> Visible as filters</li>
                </ul>
            </div>
        </div>

        <div class="mechanism-box">
            <h4>Use Case Examples</h4>
            <table>
                <tr>
                    <th>Scenario</th>
                    <th>Use Record Rule</th>
                    <th>Use Domain</th>
                </tr>
                <tr>
                    <td>Salesperson sees only their own leads</td>
                    <td>‚úÖ Security requirement</td>
                    <td>‚ùå</td>
                </tr>
                <tr>
                    <td>Default filter shows only "Open" opportunities</td>
                    <td>‚ùå</td>
                    <td>‚úÖ UX convenience</td>
                </tr>
                <tr>
                    <td>Users can only access their own company's data</td>
                    <td>‚úÖ Multi-company security</td>
                    <td>‚ùå</td>
                </tr>
                <tr>
                    <td>Product field shows only "Storable" products</td>
                    <td>‚ùå</td>
                    <td>‚úÖ Field filtering</td>
                </tr>
                <tr>
                    <td>Warehouse manager sees only their warehouse orders</td>
                    <td>‚úÖ Data isolation</td>
                    <td>‚ùå</td>
                </tr>
                <tr>
                    <td>Show only confirmed orders in a dashboard</td>
                    <td>‚ùå</td>
                    <td>‚úÖ View filtering</td>
                </tr>
                <tr>
                    <td>HR manager sees only their department's employees</td>
                    <td>‚úÖ Privacy/Security</td>
                    <td>‚ùå</td>
                </tr>
                <tr>
                    <td>Customer dropdown shows only active customers</td>
                    <td>‚ùå</td>
                    <td>‚úÖ Field domain</td>
                </tr>
            </table>
        </div>

        <div class="warning-box">
            <h4>Performance Impact</h4>
            <p><strong>Record Rules</strong> are evaluated on EVERY database operation. Complex record rules = slow system!</p>
            <ul>
                <li><strong>Bad:</strong> Record rule with subquery or computed field ‚Üí evaluated thousands of times per page</li>
                <li><strong>Good:</strong> Record rule on stored, indexed field ‚Üí fast lookup</li>
            </ul>
            <p><strong>Tip:</strong> If you can achieve the same result with a Domain instead of a Record Rule, prefer the Domain for better performance.</p>
        </div>

        <div class="analogy-box">
            <h4>Real-World Analogy</h4>
            <p><strong>Record Rule</strong> = Building security badge - you can only enter floors your badge allows, no matter which elevator button you press.</p>
            <p><strong>Domain</strong> = Floor directory sign - shows you where to find what you're looking for, but doesn't stop you from going elsewhere.</p>
        </div>

        <div class="info-box">
            <h4>Quick Decision Guide</h4>
            <ul>
                <li><strong>Ask: "Should the user NEVER see these records?"</strong> ‚Üí Use Record Rule</li>
                <li><strong>Ask: "Is this just a helpful default filter?"</strong> ‚Üí Use Domain</li>
                <li><strong>Ask: "Is this a security/privacy requirement?"</strong> ‚Üí Use Record Rule</li>
                <li><strong>Ask: "Can a power user need to see all records sometimes?"</strong> ‚Üí Use Domain</li>
            </ul>
        </div>

        <!-- ==================== SECTION 17: DECISION MATRIX ==================== -->
        <h2 id="decision">17. Decision Matrix - When to Use What</h2>

        <h3>Field Type Decision</h3>

        <table>
            <tr>
                <th>If You Need To Store...</th>
                <th>Use This Field Type</th>
            </tr>
            <tr>
                <td>Short text (name, reference, email)</td>
                <td>Char</td>
            </tr>
            <tr>
                <td>Long text (description, notes)</td>
                <td>Text</td>
            </tr>
            <tr>
                <td>Formatted text (HTML emails, descriptions)</td>
                <td>Html</td>
            </tr>
            <tr>
                <td>Whole numbers (quantity, count)</td>
                <td>Integer</td>
            </tr>
            <tr>
                <td>Decimal numbers (weight, percentage)</td>
                <td>Float</td>
            </tr>
            <tr>
                <td>Money amounts</td>
                <td>Monetary (with currency field)</td>
            </tr>
            <tr>
                <td>Yes/No choice</td>
                <td>Boolean</td>
            </tr>
            <tr>
                <td>Date only</td>
                <td>Date</td>
            </tr>
            <tr>
                <td>Date with time</td>
                <td>Datetime</td>
            </tr>
            <tr>
                <td>Fixed list of choices</td>
                <td>Selection</td>
            </tr>
            <tr>
                <td>Link to ONE other record</td>
                <td>Many2one</td>
            </tr>
            <tr>
                <td>Link to MANY other records</td>
                <td>Many2many</td>
            </tr>
            <tr>
                <td>Show child records</td>
                <td>One2many</td>
            </tr>
            <tr>
                <td>File attachment</td>
                <td>Binary</td>
            </tr>
            <tr>
                <td>Image</td>
                <td>Image</td>
            </tr>
        </table>

        <h3>Storage Decision</h3>

        <table>
            <tr>
                <th>Scenario</th>
                <th>store=True?</th>
                <th>Reason</th>
            </tr>
            <tr>
                <td>Field shown in list views</td>
                <td>Yes</td>
                <td>Avoid N+1 queries</td>
            </tr>
            <tr>
                <td>Field used in Group By</td>
                <td>Yes</td>
                <td>Required by database</td>
            </tr>
            <tr>
                <td>Field used in filters/search</td>
                <td>Yes</td>
                <td>Better search performance</td>
            </tr>
            <tr>
                <td>Field only shown on form</td>
                <td>Maybe</td>
                <td>Depends on complexity</td>
            </tr>
            <tr>
                <td>Value changes frequently (age, days left)</td>
                <td>No</td>
                <td>Would need constant recalculation</td>
            </tr>
            <tr>
                <td>Simple display from related record</td>
                <td>No</td>
                <td>Unless needed for reports</td>
            </tr>
        </table>

        <h3>Relationship Decision</h3>

        <table>
            <tr>
                <th>Business Relationship</th>
                <th>Technical Field</th>
                <th>Example</th>
            </tr>
            <tr>
                <td>Record belongs to ONE other</td>
                <td>Many2one</td>
                <td>Order belongs to Customer</td>
            </tr>
            <tr>
                <td>Record has MANY children</td>
                <td>One2many</td>
                <td>Order has Order Lines</td>
            </tr>
            <tr>
                <td>Record has MANY tags/categories</td>
                <td>Many2many</td>
                <td>Product has Categories</td>
            </tr>
            <tr>
                <td>Show value from linked record</td>
                <td>Related field</td>
                <td>Show customer's country on order</td>
            </tr>
        </table>

        <!-- ==================== SECTION 18: PRACTICAL EXAMPLES ==================== -->
        <h2 id="practical">18. Real-World Business Examples</h2>

        <h3>Example 1: Hospital Patient Management</h3>

        <div class="mechanism-box">
            <h4>Business Requirement</h4>
            <p>A hospital needs to track patients, their doctors, appointments, and medical records.</p>
        </div>

        <table>
            <tr>
                <th>Model</th>
                <th>Key Fields</th>
                <th>Field Type</th>
            </tr>
            <tr>
                <td rowspan="5"><strong>hospital.patient</strong></td>
                <td>name</td>
                <td>Char (required)</td>
            </tr>
            <tr>
                <td>date_of_birth</td>
                <td>Date</td>
            </tr>
            <tr>
                <td>gender</td>
                <td>Selection [male, female, other]</td>
            </tr>
            <tr>
                <td>doctor_id</td>
                <td>Many2one ‚Üí hospital.doctor</td>
            </tr>
            <tr>
                <td>appointment_ids</td>
                <td>One2many ‚Üí hospital.appointment</td>
            </tr>
            <tr>
                <td rowspan="3"><strong>hospital.doctor</strong></td>
                <td>name</td>
                <td>Char</td>
            </tr>
            <tr>
                <td>specialization</td>
                <td>Selection [general, cardiology, etc.]</td>
            </tr>
            <tr>
                <td>patient_ids</td>
                <td>One2many ‚Üí hospital.patient</td>
            </tr>
            <tr>
                <td rowspan="4"><strong>hospital.appointment</strong></td>
                <td>patient_id</td>
                <td>Many2one ‚Üí hospital.patient</td>
            </tr>
            <tr>
                <td>doctor_id</td>
                <td>Many2one ‚Üí hospital.doctor</td>
            </tr>
            <tr>
                <td>appointment_date</td>
                <td>Datetime</td>
            </tr>
            <tr>
                <td>state</td>
                <td>Selection [draft, confirmed, done, cancelled]</td>
            </tr>
        </table>

        <h3>Example 2: E-Commerce Order Flow</h3>

        <div class="diagram">
            <h4>Order Data Flow</h4>
            <div style="display: flex; justify-content: center; align-items: flex-start; flex-wrap: wrap; gap: 30px; margin-top: 20px;">
                <div style="text-align: center;">
                    <div class="diagram-box">Customer</div>
                    <p style="font-size: 12px;">res.partner</p>
                </div>
                <span class="arrow">‚Üí</span>
                <div style="text-align: center;">
                    <div class="diagram-box secondary">Sale Order</div>
                    <p style="font-size: 12px;">sale.order</p>
                    <span class="arrow-down">‚Üì</span>
                    <div class="diagram-box tertiary" style="font-size: 14px;">Order Lines</div>
                    <p style="font-size: 12px;">sale.order.line</p>
                </div>
                <span class="arrow">‚Üí</span>
                <div style="text-align: center;">
                    <div class="diagram-box" style="background: #4ade80;">Delivery</div>
                    <p style="font-size: 12px;">stock.picking</p>
                </div>
                <span class="arrow">‚Üí</span>
                <div style="text-align: center;">
                    <div class="diagram-box" style="background: #fbbf24;">Invoice</div>
                    <p style="font-size: 12px;">account.move</p>
                </div>
            </div>
        </div>

        <h3>Example 3: Manufacturing Scenario</h3>

        <div class="success-box">
            <h4>Key Relationships in Manufacturing</h4>
            <ul>
                <li><strong>Bill of Materials (mrp.bom)</strong> ‚Üí defines what components make a product</li>
                <li><strong>Manufacturing Order (mrp.production)</strong> ‚Üí actual production request</li>
                <li><strong>Work Orders (mrp.workorder)</strong> ‚Üí individual steps in production</li>
                <li><strong>Product (product.product)</strong> ‚Üí the item being manufactured</li>
            </ul>
            <p><strong>Many2one chain:</strong> Work Order ‚Üí Manufacturing Order ‚Üí Bill of Materials ‚Üí Product</p>
        </div>

        <!-- ==================== SECTION 19: COMMON MISTAKES ==================== -->
        <h2 id="mistakes">19. Common Mistakes & How to Avoid Them</h2>

        <h3>Mistake 1: Using Non-Stored Fields in Group By</h3>
        <div class="comparison-grid">
            <div class="comparison-card bad">
                <h4>Wrong</h4>
                <p>"I want to group orders by customer country"</p>
                <p>Uses: <code>partner_id.country_id</code> (related, not stored)</p>
                <p><strong>Result:</strong> Error or empty grouping</p>
            </div>
            <div class="comparison-card good">
                <h4>Correct</h4>
                <p>Create a stored related field:</p>
                <p><code>partner_country_id = fields.Many2one(related='partner_id.country_id', store=True)</code></p>
                <p><strong>Result:</strong> Works perfectly</p>
            </div>
        </div>

        <h3>Mistake 2: Confusing Field Type and Widget</h3>
        <div class="comparison-grid">
            <div class="comparison-card bad">
                <h4>Wrong Thinking</h4>
                <p>"I need a radio button field"</p>
                <p>Creates a new field type</p>
            </div>
            <div class="comparison-card good">
                <h4>Correct</h4>
                <p>"I need a Selection field displayed as radio buttons"</p>
                <p>Uses: <code>Selection</code> field with <code>widget="radio"</code></p>
            </div>
        </div>

        <h3>Mistake 3: Over-Using Many2many</h3>
        <div class="comparison-grid">
            <div class="comparison-card bad">
                <h4>Wrong</h4>
                <p>"Product can have multiple suppliers"</p>
                <p>Uses: Many2many between product and supplier</p>
                <p><strong>Problem:</strong> Can't store price per supplier!</p>
            </div>
            <div class="comparison-card good">
                <h4>Correct</h4>
                <p>Create a "Product Supplier" model with:</p>
                <ul>
                    <li>Many2one to product</li>
                    <li>Many2one to supplier</li>
                    <li>Price, lead time, etc.</li>
                </ul>
            </div>
        </div>

        <h3>Mistake 4: Forgetting ondelete</h3>
        <div class="warning-box">
            <h4>Problem</h4>
            <p>You have orders linked to customers. If someone deletes a customer, what happens to their orders?</p>
            <ul>
                <li><strong>Default (set null):</strong> Orders remain but customer field becomes empty - data loss!</li>
                <li><strong>cascade:</strong> Orders get deleted too - dangerous!</li>
                <li><strong>restrict:</strong> Cannot delete customer with orders - safe!</li>
            </ul>
            <p><strong>Best Practice:</strong> Always specify <code>ondelete='restrict'</code> for important business relationships.</p>
        </div>

        <h3>Mistake 5: Not Using Tracking</h3>
        <div class="success-box">
            <h4>Best Practice</h4>
            <p>For important fields (status, assigned user, amounts), add <code>tracking=True</code></p>
            <p>This creates an audit trail in the chatter showing who changed what and when.</p>
        </div>

        <h3>Quick Reference: Error Messages and Solutions</h3>

        <table>
            <tr>
                <th>Error Message</th>
                <th>Likely Cause</th>
                <th>Solution</th>
            </tr>
            <tr>
                <td>"Field X does not exist"</td>
                <td>Typo in field name or module not installed</td>
                <td>Check spelling, install module</td>
            </tr>
            <tr>
                <td>"Access denied"</td>
                <td>User lacks permissions</td>
                <td>Check access rights and record rules</td>
            </tr>
            <tr>
                <td>"Cannot group by X"</td>
                <td>Field not stored</td>
                <td>Add store=True or use different field</td>
            </tr>
            <tr>
                <td>"Constraint violation"</td>
                <td>Required field empty or unique violation</td>
                <td>Fill required fields, check uniqueness</td>
            </tr>
            <tr>
                <td>"Recursion error"</td>
                <td>Circular dependency in computed fields</td>
                <td>Check @api.depends chains</td>
            </tr>
        </table>

        <!-- ==================== CONCLUSION ==================== -->
        <hr style="margin: 60px 0; border: 2px solid #e2e8f0;"/>

        <h2 style="text-align: center; color: #714B67; margin-top: 40px; page-break-before: avoid;">Training Complete</h2>

        <div class="success-box" style="margin-top: 30px;">
            <h3 style="margin-top: 0;">You Now Understand:</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                <div>
                    <ul style="font-size: 16px; line-height: 1.8;">
                        <li>Models and naming conventions</li>
                        <li>All field types and when to use them</li>
                        <li>Many2one, One2many, Many2many relationships</li>
                        <li>store=True vs store=False implications</li>
                        <li>Computed and Related fields</li>
                        <li>Why Group By needs stored fields</li>
                    </ul>
                </div>
                <div>
                    <ul style="font-size: 16px; line-height: 1.8;">
                        <li>All view types (Form, List, Kanban, etc.)</li>
                        <li>Widgets and how they differ from fields</li>
                        <li>Domain filters and operators</li>
                        <li>Access Rights and Record Rules</li>
                        <li>Workflow and status management</li>
                        <li>Odoo Studio basics</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="foundation-box" style="margin-top: 30px;">
            <h3 style="margin-top: 0;">Next Steps:</h3>
            <ol style="font-size: 17px; line-height: 2;">
                <li>Practice identifying field types in your Odoo instance</li>
                <li>Enable Developer Mode and explore model structures</li>
                <li>Try creating a simple custom field in Studio</li>
                <li>Review access rights for your user groups</li>
                <li>Document customization requirements using proper terminology</li>
            </ol>
        </div>

        <div class="info-box" style="margin-top: 30px;">
            <h4>Additional Resources</h4>
            <ul>
                <li><strong>Odoo Documentation:</strong> https://www.odoo.com/documentation</li>
                <li><strong>Odoo eLearning:</strong> https://www.odoo.com/slides</li>
                <li><strong>Odoo Forum:</strong> https://www.odoo.com/forum</li>
                <li><strong>Developer Documentation:</strong> https://www.odoo.com/documentation/17.0/developer.html</li>
            </ul>
        </div>

        <p style="text-align: center; font-size: 22px; margin-top: 50px; color: #714B67;">
            <strong>Ready to Configure Odoo with Confidence!</strong>
        </p>
        <p style="text-align: center; font-size: 16px; color: #64748b; margin-bottom: 50px;">
            <em>Document Version: 1.0 | Compatible with Odoo 17, 18, 19 | December 2024</em>
        </p>

    </div>

    <!-- JavaScript for Interactive Features -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ==================== ELEMENTS ====================
            const progressBar = document.getElementById('progressBar');
            const backToTop = document.getElementById('backToTop');
            const sidebar = document.getElementById('sidebar');
            const sidebarLinks = sidebar.querySelectorAll('nav a');
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const sidebarOverlay = document.getElementById('sidebarOverlay');
            const currentSectionIndicator = document.getElementById('currentSection');
            const sections = document.querySelectorAll('h2[id]');
            const sectionsArray = Array.from(sections);

            // New feature elements
            const searchInput = document.getElementById('searchInput');
            const searchResults = document.getElementById('searchResults');
            const darkModeBtn = document.getElementById('darkModeBtn');
            const fontSmallBtn = document.getElementById('fontSmallBtn');
            const fontLargeBtn = document.getElementById('fontLargeBtn');
            const helpBtn = document.getElementById('helpBtn');
            const keyboardHint = document.getElementById('keyboardHint');
            const resumeBanner = document.getElementById('resumeBanner');
            const resumeSection = document.getElementById('resumeSection');
            const resumeClose = document.getElementById('resumeClose');

            // ==================== LOCAL STORAGE KEYS ====================
            const STORAGE_KEYS = {
                darkMode: 'odoo_training_dark_mode',
                fontSize: 'odoo_training_font_size',
                lastSection: 'odoo_training_last_section',
                lastScrollPos: 'odoo_training_scroll_pos'
            };

            // ==================== PROGRESS BAR ====================
            function updateProgressBar() {
                const scrollTop = window.scrollY;
                const docHeight = document.documentElement.scrollHeight - window.innerHeight;
                if (docHeight > 0) {
                    const progress = (scrollTop / docHeight) * 100;
                    progressBar.style.width = Math.min(100, Math.max(0, progress)) + '%';
                }
            }

            // ==================== BACK TO TOP ====================
            function toggleBackToTop() {
                if (window.scrollY > 500) {
                    backToTop.classList.add('visible');
                } else {
                    backToTop.classList.remove('visible');
                }
            }

            backToTop.addEventListener('click', function() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // ==================== ACTIVE SECTION TRACKING ====================
            let currentActiveSection = null;

            function updateActiveSection() {
                let foundSection = null;
                const scrollPos = window.scrollY + 150;

                for (let i = sectionsArray.length - 1; i >= 0; i--) {
                    if (sectionsArray[i].offsetTop <= scrollPos) {
                        foundSection = sectionsArray[i];
                        break;
                    }
                }

                if (foundSection && foundSection !== currentActiveSection) {
                    currentActiveSection = foundSection;

                    // Update sidebar active state
                    sidebarLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === '#' + foundSection.id) {
                            link.classList.add('active');
                            // Scroll sidebar to show active link
                            const sidebarNav = sidebar.querySelector('nav');
                            if (sidebarNav) {
                                const linkRect = link.getBoundingClientRect();
                                const sidebarRect = sidebar.getBoundingClientRect();
                                if (linkRect.top < sidebarRect.top + 150 || linkRect.bottom > sidebarRect.bottom - 50) {
                                    link.scrollIntoView({ block: 'center', behavior: 'smooth' });
                                }
                            }
                        }
                    });

                    // Update current section indicator
                    const activeLink = sidebar.querySelector('nav a.active');
                    if (activeLink) {
                        currentSectionIndicator.textContent = activeLink.textContent;
                        currentSectionIndicator.classList.add('visible');
                    }

                    // Save to localStorage
                    saveReadingProgress(foundSection.id);
                }

                // Hide indicator at top
                if (window.scrollY < 300) {
                    currentSectionIndicator.classList.remove('visible');
                }
            }

            // ==================== MOBILE MENU ====================
            function toggleMobileMenu() {
                sidebar.classList.toggle('open');
                sidebarOverlay.classList.toggle('active');
            }

            function closeMobileMenu() {
                sidebar.classList.remove('open');
                sidebarOverlay.classList.remove('active');
            }

            mobileMenuToggle.addEventListener('click', toggleMobileMenu);
            sidebarOverlay.addEventListener('click', closeMobileMenu);

            // Close menu when clicking a link (mobile)
            sidebarLinks.forEach(link => {
                link.addEventListener('click', function() {
                    if (window.innerWidth <= 1024) {
                        closeMobileMenu();
                    }
                });
            });

            // ==================== SEARCH FUNCTIONALITY ====================
            let searchIndex = [];

            // Fuzzy match scoring - returns score (higher = better match), 0 = no match
            function fuzzyMatch(text, query) {
                text = text.toLowerCase();
                query = query.toLowerCase();

                // Exact match - highest score
                if (text === query) return 1000;

                // Contains exact query - high score
                if (text.includes(query)) {
                    // Bonus for match at start
                    if (text.startsWith(query)) return 800;
                    // Bonus for word boundary match
                    if (text.includes(' ' + query) || text.includes('.' + query)) return 700;
                    return 600;
                }

                // Word-based matching
                const queryWords = query.split(/\s+/).filter(w => w.length > 0);
                const textWords = text.split(/\s+/).filter(w => w.length > 0);

                let matchedWords = 0;
                let partialScore = 0;

                for (const qWord of queryWords) {
                    for (const tWord of textWords) {
                        if (tWord === qWord) {
                            matchedWords++;
                            partialScore += 100;
                        } else if (tWord.startsWith(qWord)) {
                            matchedWords++;
                            partialScore += 80;
                        } else if (tWord.includes(qWord)) {
                            matchedWords++;
                            partialScore += 50;
                        }
                    }
                }

                // All query words must match something
                if (matchedWords >= queryWords.length) {
                    return partialScore;
                }

                // Subsequence matching (for typos/partial)
                let qi = 0;
                let consecutive = 0;
                let maxConsecutive = 0;

                for (let ti = 0; ti < text.length && qi < query.length; ti++) {
                    if (text[ti] === query[qi]) {
                        qi++;
                        consecutive++;
                        maxConsecutive = Math.max(maxConsecutive, consecutive);
                    } else {
                        consecutive = 0;
                    }
                }

                // If we matched all query characters in sequence
                if (qi === query.length) {
                    // Score based on how consecutive the matches were
                    return 20 + (maxConsecutive / query.length) * 30;
                }

                return 0;
            }

            function buildSearchIndex() {
                searchIndex = [];
                const container = document.querySelector('.container');
                if (!container) return;

                const allH2s = Array.from(container.querySelectorAll('h2[id]'));

                allH2s.forEach((h2, h2Index) => {
                    const sectionTitle = h2.textContent.trim();

                    searchIndex.push({
                        title: sectionTitle,
                        section: sectionTitle,
                        element: h2,
                        type: 'section'
                    });

                    const nextH2 = allH2s[h2Index + 1];
                    let current = h2.nextElementSibling;

                    while (current && current !== nextH2) {
                        if (current.tagName === 'H3' || current.tagName === 'H4') {
                            searchIndex.push({
                                title: current.textContent.trim(),
                                section: sectionTitle.substring(0, 35),
                                element: current,
                                type: 'heading'
                            });
                        }

                        const innerHeadings = current.querySelectorAll ? current.querySelectorAll('h3, h4') : [];
                        innerHeadings.forEach(heading => {
                            const title = heading.textContent.trim();
                            if (!searchIndex.some(item => item.title === title && item.section === sectionTitle.substring(0, 35))) {
                                searchIndex.push({
                                    title: title,
                                    section: sectionTitle.substring(0, 35),
                                    element: heading,
                                    type: 'box-title'
                                });
                            }
                        });

                        current = current.nextElementSibling;
                    }
                });
            }

            function performSearch(query) {
                if (!query || query.length < 2) {
                    searchResults.innerHTML = '';
                    return;
                }

                const scored = searchIndex.map(item => ({
                    ...item,
                    score: fuzzyMatch(item.title, query)
                })).filter(item => item.score > 0);

                // Sort by score descending
                scored.sort((a, b) => b.score - a.score);

                const results = scored.slice(0, 12);

                if (results.length === 0) {
                    searchResults.innerHTML = '<div class="no-results">No results found for "' + escapeHtml(query) + '"</div>';
                    return;
                }

                // Build results HTML
                const html = results.map((item, index) => {
                    const highlighted = highlightMatch(item.title, query);
                    return `
                        <div class="search-result-item" data-index="${index}">
                            <div class="search-result-title">${highlighted}</div>
                            ${item.section && item.type !== 'section' ?
                                `<div class="search-result-context">in ${escapeHtml(item.section)}...</div>` : ''}
                        </div>
                    `;
                }).join('');

                searchResults.innerHTML = html;
                searchResults._results = results;
            }

            function highlightMatch(text, query) {
                const escaped = escapeHtml(text);
                const queryLower = query.toLowerCase();
                const textLower = text.toLowerCase();

                // Try exact substring match first
                const idx = textLower.indexOf(queryLower);
                if (idx !== -1) {
                    const before = escapeHtml(text.substring(0, idx));
                    const match = escapeHtml(text.substring(idx, idx + query.length));
                    const after = escapeHtml(text.substring(idx + query.length));
                    return before + '<span class="search-highlight">' + match + '</span>' + after;
                }

                // Highlight individual matching words
                const queryWords = query.toLowerCase().split(/\s+/);
                let result = escaped;
                for (const word of queryWords) {
                    if (word.length >= 2) {
                        const regex = new RegExp('(' + escapeRegex(word) + ')', 'gi');
                        result = result.replace(regex, '<span class="search-highlight">$1</span>');
                    }
                }
                return result;
            }

            function escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            function escapeRegex(string) {
                return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            }

            // Click handler using event delegation
            searchResults.addEventListener('click', function(e) {
                const resultItem = e.target.closest('.search-result-item');
                if (resultItem && searchResults._results) {
                    const index = parseInt(resultItem.dataset.index, 10);
                    const result = searchResults._results[index];
                    if (result && result.element) {
                        result.element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        searchInput.value = '';
                        searchResults.innerHTML = '';
                        searchResults._results = null;
                        closeMobileMenu();
                    }
                }
            });

            // Search on input with debounce
            let searchTimeout;
            searchInput.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    performSearch(this.value.trim());
                }, 100);
            });

            // Also trigger search on focus if there's already text
            searchInput.addEventListener('focus', function() {
                if (this.value.trim().length >= 2) {
                    performSearch(this.value.trim());
                }
            });

            searchInput.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    this.value = '';
                    searchResults.innerHTML = '';
                    this.blur();
                }
                if (e.key === 'Enter') {
                    e.preventDefault();
                    const selected = searchResults.querySelector('.search-result-item.selected');
                    const firstResult = selected || searchResults.querySelector('.search-result-item');
                    if (firstResult) {
                        firstResult.click();
                    }
                }
                // Arrow key navigation in search results
                if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {
                    e.preventDefault();
                    const items = searchResults.querySelectorAll('.search-result-item');
                    if (items.length === 0) return;

                    const current = searchResults.querySelector('.search-result-item.selected');
                    let nextIndex = 0;

                    if (current) {
                        current.classList.remove('selected');
                        const currentIndex = Array.from(items).indexOf(current);
                        if (e.key === 'ArrowDown') {
                            nextIndex = (currentIndex + 1) % items.length;
                        } else {
                            nextIndex = (currentIndex - 1 + items.length) % items.length;
                        }
                    }

                    items[nextIndex].classList.add('selected');
                    items[nextIndex].scrollIntoView({ block: 'nearest' });
                }
            });

            // ==================== DARK MODE ====================
            function toggleDarkMode() {
                document.body.classList.toggle('dark-mode');
                const isDark = document.body.classList.contains('dark-mode');
                darkModeBtn.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
                darkModeBtn.classList.toggle('active', isDark);
                localStorage.setItem(STORAGE_KEYS.darkMode, isDark ? 'true' : 'false');
            }

            function loadDarkMode() {
                const saved = localStorage.getItem(STORAGE_KEYS.darkMode);
                if (saved === 'true') {
                    document.body.classList.add('dark-mode');
                    darkModeBtn.textContent = '‚òÄÔ∏è';
                    darkModeBtn.classList.add('active');
                }
            }

            darkModeBtn.addEventListener('click', toggleDarkMode);

            // ==================== FONT SIZE ====================
            function setFontSize(size) {
                document.body.classList.remove('font-small', 'font-large');
                fontSmallBtn.classList.remove('active');
                fontLargeBtn.classList.remove('active');

                if (size === 'small') {
                    document.body.classList.add('font-small');
                    fontSmallBtn.classList.add('active');
                } else if (size === 'large') {
                    document.body.classList.add('font-large');
                    fontLargeBtn.classList.add('active');
                }

                localStorage.setItem(STORAGE_KEYS.fontSize, size || 'normal');
            }

            function loadFontSize() {
                const saved = localStorage.getItem(STORAGE_KEYS.fontSize);
                if (saved && saved !== 'normal') {
                    setFontSize(saved);
                }
            }

            fontSmallBtn.addEventListener('click', function() {
                const isActive = this.classList.contains('active');
                setFontSize(isActive ? 'normal' : 'small');
            });

            fontLargeBtn.addEventListener('click', function() {
                const isActive = this.classList.contains('active');
                setFontSize(isActive ? 'normal' : 'large');
            });

            // ==================== KEYBOARD SHORTCUTS ====================
            function toggleKeyboardHint() {
                keyboardHint.classList.toggle('visible');
            }

            helpBtn.addEventListener('click', toggleKeyboardHint);

            function navigateSection(direction) {
                const currentIndex = sectionsArray.findIndex(s => s === currentActiveSection);
                let newIndex = currentIndex + direction;

                if (newIndex < 0) newIndex = 0;
                if (newIndex >= sectionsArray.length) newIndex = sectionsArray.length - 1;

                const targetSection = sectionsArray[newIndex];
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }

            document.addEventListener('keydown', function(e) {
                // Ignore if typing in search
                if (document.activeElement === searchInput) {
                    return;
                }

                // Press '/' to focus search
                if (e.key === '/' && !e.ctrlKey && !e.metaKey) {
                    e.preventDefault();
                    searchInput.focus();
                    return;
                }

                // Press 'D' for dark mode
                if ((e.key === 'd' || e.key === 'D') && !e.ctrlKey && !e.metaKey) {
                    toggleDarkMode();
                    return;
                }

                // Press '?' for help
                if (e.key === '?' || (e.key === '/' && e.shiftKey)) {
                    toggleKeyboardHint();
                    return;
                }

                // Arrow keys for navigation
                if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    navigateSection(-1);
                    return;
                }
                if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    navigateSection(1);
                    return;
                }

                // Press Escape to close things
                if (e.key === 'Escape') {
                    closeMobileMenu();
                    keyboardHint.classList.remove('visible');
                    searchInput.blur();
                    searchResults.innerHTML = '';
                }
            });

            // ==================== READING PROGRESS (localStorage) ====================
            function saveReadingProgress(sectionId) {
                if (sectionId) {
                    localStorage.setItem(STORAGE_KEYS.lastSection, sectionId);
                    localStorage.setItem(STORAGE_KEYS.lastScrollPos, window.scrollY.toString());
                }
            }

            function loadReadingProgress() {
                const lastSection = localStorage.getItem(STORAGE_KEYS.lastSection);
                const lastScrollPos = parseInt(localStorage.getItem(STORAGE_KEYS.lastScrollPos) || '0', 10);

                // Only show resume banner if user scrolled past intro and not at top
                if (lastSection && lastSection !== 'intro' && lastScrollPos > 500) {
                    const sectionElement = document.getElementById(lastSection);
                    if (sectionElement) {
                        const link = sidebar.querySelector(`a[href="#${lastSection}"]`);
                        const sectionName = link ? link.textContent : lastSection;
                        resumeSection.textContent = sectionName;
                        resumeBanner.style.display = 'flex';
                    }
                }
            }

            // Resume banner click - go to saved section
            resumeBanner.addEventListener('click', function(e) {
                if (e.target === resumeClose) return;
                const lastSection = localStorage.getItem(STORAGE_KEYS.lastSection);
                if (lastSection) {
                    const target = document.getElementById(lastSection);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                }
                resumeBanner.style.display = 'none';
            });

            resumeClose.addEventListener('click', function(e) {
                e.stopPropagation();
                resumeBanner.style.display = 'none';
            });

            // ==================== SMOOTH SCROLL FOR SIDEBAR LINKS ====================
            sidebarLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        history.pushState(null, null, targetId);
                    }
                });
            });

            // ==================== SCROLL EVENT LISTENER ====================
            let ticking = false;
            let lastSaveTime = 0;

            window.addEventListener('scroll', function() {
                if (!ticking) {
                    window.requestAnimationFrame(function() {
                        updateProgressBar();
                        toggleBackToTop();
                        updateActiveSection();

                        // Save scroll position periodically (every 2 seconds while scrolling)
                        const now = Date.now();
                        if (now - lastSaveTime > 2000) {
                            if (currentActiveSection) {
                                saveReadingProgress(currentActiveSection.id);
                            }
                            lastSaveTime = now;
                        }

                        ticking = false;
                    });
                    ticking = true;
                }
            });

            // ==================== INITIALIZATION ====================
            function init() {
                buildSearchIndex();
                loadDarkMode();
                loadFontSize();
                updateProgressBar();
                toggleBackToTop();
                updateActiveSection();

                // Show resume banner after a short delay
                setTimeout(loadReadingProgress, 500);
            }

            init();
        });
    </script>
</body>
</html>
